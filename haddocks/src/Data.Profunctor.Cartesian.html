<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ImportQualifiedPost #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Profunctor.Cartesian</span><span class="hs-special">(</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier">Cartesian</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#prodDay"><span class="hs-identifier">prodDay</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier">Cocartesian</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#sumDay"><span class="hs-identifier">sumDay</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><span class="hs-comment">-- * @Cartesian p@ iff @forall x. Applicative (p x)@</span></span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#pureDefault"><span class="hs-identifier">pureDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#proUnitDefault"><span class="hs-identifier">proUnitDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#liftA2Default"><span class="hs-identifier">liftA2Default</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#fanoutDefault"><span class="hs-identifier">fanoutDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Utilities</span></span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#describeFinite"><span class="hs-identifier">describeFinite</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#describeFiniteBits"><span class="hs-identifier">describeFiniteBits</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><span class="hs-comment">-- * About distributivy laws between 'Cartesian' and 'Cocartesian'</span></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><span class="hs-comment">-- $distributivity</span></span><span>
</span><span id="line-27"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Void</span></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant.Divisible</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bifunctor</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor.Clown</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor.Joker</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor.Product</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor.Monad</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor.Yoneda</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor.Composition</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">assoc</span></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Profunctor.Day.html"><span class="hs-identifier">Data.Profunctor.Day</span></a></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeNats</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">KnownNat</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Natural</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">natVal</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Finite</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Finite</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">getFinite</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">finites</span></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Finite.Internal</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Unsafe</span></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Cartesian"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-var">Cartesian</span></a></span></span><span> </span><span id="local-6989586621679157145"><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-pragma hs-type">proUnit</span></a></span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-pragma hs-type">proProduct</span></a></span><span> </span><span class="hs-pragma">|</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">***</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">|</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&amp;&amp;&amp;</span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-comment">-- | Unit of the product.</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-comment">-- The type of 'proUnit' can be understood as @proUnit' :: p () ()@</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-comment">-- treated to have more generally-typed @p a ()@ using 'lmap'.</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-comment">-- </span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-comment">-- const () :: a -&gt; ()</span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-comment">-- proUnit' :: p () ()</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-comment">-- 'lmap' (const ()) proUnit' :: p a ()</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-62"></span><span>  </span><span id="proUnit"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-type">proUnit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157237"><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157237"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-63"></span><span>  </span><span>
</span><span id="line-64"></span><span>  </span><span id="proProduct"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-identifier hs-type">proProduct</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157148"><span id="local-6989586621679157149"><span id="local-6989586621679157150"><span id="local-6989586621679157151"><span id="local-6989586621679157152"><span id="local-6989586621679157153"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157148"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157149"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679157150"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157151"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157152"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157153"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157149"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157151"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157150"><span class="hs-identifier hs-type">a2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157152"><span class="hs-identifier hs-type">b2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157148"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157153"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621679157804"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-identifier hs-var hs-var">proProduct</span></a></span><span> </span><span id="local-6989586621679157808"><span class="annot"><span class="annottext">a -&gt; (a1, a2)
</span><a href="#local-6989586621679157808"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679157809"><span class="annot"><span class="annottext">(b1, b2) -&gt; b
</span><a href="#local-6989586621679157809"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679157810"><span class="annot"><span class="annottext">p a1 b1
</span><a href="#local-6989586621679157810"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679157811"><span class="annot"><span class="annottext">p a2 b2
</span><a href="#local-6989586621679157811"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p (a1, a2) (b1, b2) -&gt; p a b
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; (a1, a2)
</span><a href="#local-6989586621679157808"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(b1, b2) -&gt; b
</span><a href="#local-6989586621679157809"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(p (a1, a2) (b1, b2) -&gt; p a b) -&gt; p (a1, a2) (b1, b2) -&gt; p a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">p a1 b1
</span><a href="#local-6989586621679157810"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p a1 b1 -&gt; p a2 b2 -&gt; p (a1, a2) (b1, b2)
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">p a2 b2
</span><a href="#local-6989586621679157811"><span class="hs-identifier hs-var">q</span></a></span></span><span>
</span><span id="line-66"></span><span>  </span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-comment">-- | Product of two profunctors</span><span>
</span><span id="line-68"></span><span>  </span><span id="%2A%2A%2A"><span class="annot"><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-type">(***)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157169"><span id="local-6989586621679157170"><span id="local-6989586621679157171"><span id="local-6989586621679157172"><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157169"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157170"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157171"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157172"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157169"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679157171"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157170"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679157172"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-69"></span><span>  </span><span id="local-6989586621679157813"><span id="local-6989586621679157818"><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679157818"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var">***</span></a></span><span> </span><span id="local-6989586621679157819"><span class="annot"><span class="annottext">p a' b'
</span><a href="#local-6989586621679157819"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, a') -&gt; a) -&gt; p a b -&gt; p (a, a') b
forall a b c. (a -&gt; b) -&gt; p b c -&gt; p a c
forall (p :: * -&gt; * -&gt; *) a b c.
Profunctor p =&gt;
(a -&gt; b) -&gt; p b c -&gt; p a c
</span><span class="hs-identifier hs-var">lmap</span></span><span> </span><span class="annot"><span class="annottext">(a, a') -&gt; a
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679157818"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p (a, a') b -&gt; p (a, a') b' -&gt; p (a, a') (b, b')
forall a b b'. p a b -&gt; p a b' -&gt; p a (b, b')
forall (p :: * -&gt; * -&gt; *) a b b'.
Cartesian p =&gt;
p a b -&gt; p a b' -&gt; p a (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%26%26%26"><span class="hs-operator hs-var">&amp;&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">((a, a') -&gt; a') -&gt; p a' b' -&gt; p (a, a') b'
forall a b c. (a -&gt; b) -&gt; p b c -&gt; p a c
forall (p :: * -&gt; * -&gt; *) a b c.
Profunctor p =&gt;
(a -&gt; b) -&gt; p b c -&gt; p a c
</span><span class="hs-identifier hs-var">lmap</span></span><span> </span><span class="annot"><span class="annottext">(a, a') -&gt; a'
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">p a' b'
</span><a href="#local-6989586621679157819"><span class="hs-identifier hs-var">q</span></a></span></span><span>
</span><span id="line-70"></span><span>  </span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-comment">-- | Alternative way to define the product (pronounced \&quot;fan-out\&quot;)</span><span>
</span><span id="line-72"></span><span>  </span><span id="%26%26%26"><span class="annot"><a href="Data.Profunctor.Cartesian.html#%26%26%26"><span class="hs-operator hs-type">(&amp;&amp;&amp;)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157182"><span id="local-6989586621679157183"><span id="local-6989586621679157184"><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157182"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157183"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157182"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157184"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157182"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157183"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157184"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-73"></span><span>  </span><span id="local-6989586621679157823"><span class="annot"><a href="Data.Profunctor.Cartesian.html#%26%26%26"><span class="hs-operator hs-var hs-var">(&amp;&amp;&amp;)</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; (a, a))
-&gt; ((b, b') -&gt; (b, b')) -&gt; p a b -&gt; p a b' -&gt; p a (b, b')
forall a a1 a2 b1 b2 b.
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cartesian p =&gt;
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-identifier hs-var">proProduct</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; (a, a)
forall a. a -&gt; (a, a)
</span><a href="Data.Profunctor.Cartesian.html#delta"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">(b, b') -&gt; (b, b')
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-comment">-- | Function from finite types can be constructed as iterated product.</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-comment">-- There is a default implementaion, but it can be more efficient implementation.</span><span>
</span><span id="line-78"></span><span>  </span><span id="proPower"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-type">proPower</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157193"><span id="local-6989586621679157194"><span id="local-6989586621679157195"><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679157193"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157194"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157195"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157145"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Finite</span></span><span> </span><span class="annot"><a href="#local-6989586621679157193"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157194"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Finite</span></span><span> </span><span class="annot"><a href="#local-6989586621679157193"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157195"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-79"></span><span>  </span><span id="local-6989586621679157828"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var hs-var">proPower</span></a></span><span> </span><span id="local-6989586621679157836"><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679157836"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Power p (Finite n) (Finite n)
-&gt; forall s t. p s t -&gt; p (Finite n -&gt; s) (Finite n -&gt; t)
forall (p :: * -&gt; * -&gt; *) a b.
Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
</span><a href="Data.Profunctor.Cartesian.html#runPower"><span class="hs-identifier hs-var">runPower</span></a></span><span> </span><span class="annot"><span class="annottext">Power p (Finite n) (Finite n)
forall (n :: Nat) (p :: * -&gt; * -&gt; *).
(KnownNat n, Cartesian p, Cocartesian p) =&gt;
p (Finite n) (Finite n)
</span><a href="Data.Profunctor.Cartesian.html#describeFinite"><span class="hs-identifier hs-var">describeFinite</span></a></span><span> </span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679157836"><span class="hs-identifier hs-var">p</span></a></span></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span id="local-6989586621679157190"><span class="annot"><a href="Data.Profunctor.Cartesian.html#delta"><span class="hs-identifier hs-type">delta</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679157190"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157190"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679157190"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-82"></span><span id="delta"><span class="annot"><span class="annottext">delta :: forall a. a -&gt; (a, a)
</span><a href="Data.Profunctor.Cartesian.html#delta"><span class="hs-identifier hs-var hs-var">delta</span></a></span></span><span> </span><span id="local-6989586621679157838"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679157838"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679157838"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679157838"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span id="local-6989586621679157212"><span id="local-6989586621679157213"><span id="local-6989586621679157215"><span class="annot"><a href="Data.Profunctor.Cartesian.html#prodDay"><span class="hs-identifier hs-type">prodDay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157212"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157213"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:-&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679157212"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157215"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:-&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679157212"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Day.html#Day"><span class="hs-identifier hs-type">Day</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679157213"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157215"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:-&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679157212"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-85"></span><span id="prodDay"><span class="annot"><span class="annottext">prodDay :: forall (r :: * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *).
Cartesian r =&gt;
(p :-&gt; r) -&gt; (q :-&gt; r) -&gt; Day (,) p q :-&gt; r
</span><a href="Data.Profunctor.Cartesian.html#prodDay"><span class="hs-identifier hs-var hs-var">prodDay</span></a></span></span><span> </span><span id="local-6989586621679157840"><span class="annot"><span class="annottext">p :-&gt; r
</span><a href="#local-6989586621679157840"><span class="hs-identifier hs-var">pr</span></a></span></span><span> </span><span id="local-6989586621679157841"><span class="annot"><span class="annottext">q :-&gt; r
</span><a href="#local-6989586621679157841"><span class="hs-identifier hs-var">qr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Day.html#Day"><span class="hs-identifier hs-type">Day</span></a></span><span> </span><span id="local-6989586621679157844"><span class="annot"><span class="annottext">p a1 b1
</span><a href="#local-6989586621679157844"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679157845"><span class="annot"><span class="annottext">q a2 b2
</span><a href="#local-6989586621679157845"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679157846"><span class="annot"><span class="annottext">a -&gt; (a1, a2)
</span><a href="#local-6989586621679157846"><span class="hs-identifier hs-var">opA</span></a></span></span><span> </span><span id="local-6989586621679157847"><span class="annot"><span class="annottext">(b1, b2) -&gt; b
</span><a href="#local-6989586621679157847"><span class="hs-identifier hs-var">opB</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; r a1 b1 -&gt; r a2 b2 -&gt; r a b
forall a a1 a2 b1 b2 b.
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; r a1 b1 -&gt; r a2 b2 -&gt; r a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cartesian p =&gt;
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-identifier hs-var">proProduct</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; (a1, a2)
</span><a href="#local-6989586621679157846"><span class="hs-identifier hs-var">opA</span></a></span><span> </span><span class="annot"><span class="annottext">(b1, b2) -&gt; b
</span><a href="#local-6989586621679157847"><span class="hs-identifier hs-var">opB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a1 b1 -&gt; r a1 b1
p :-&gt; r
</span><a href="#local-6989586621679157840"><span class="hs-identifier hs-var">pr</span></a></span><span> </span><span class="annot"><span class="annottext">p a1 b1
</span><a href="#local-6989586621679157844"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a2 b2 -&gt; r a2 b2
q :-&gt; r
</span><a href="#local-6989586621679157841"><span class="hs-identifier hs-var">qr</span></a></span><span> </span><span class="annot"><span class="annottext">q a2 b2
</span><a href="#local-6989586621679157845"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="annot"><span class="hs-comment">-- * @Cartesian p@ iff @forall x. Applicative (p x)@</span></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span id="local-6989586621679157226"><span id="local-6989586621679157227"><span id="local-6989586621679157228"><span class="annot"><a href="Data.Profunctor.Cartesian.html#pureDefault"><span class="hs-identifier hs-type">pureDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157226"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157227"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157226"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157228"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157227"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-90"></span><span id="pureDefault"><span class="annot"><span class="annottext">pureDefault :: forall (p :: * -&gt; * -&gt; *) b a. Cartesian p =&gt; b -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#pureDefault"><span class="hs-identifier hs-var hs-var">pureDefault</span></a></span></span><span> </span><span id="local-6989586621679157852"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679157852"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(() -&gt; b) -&gt; p a () -&gt; p a b
forall b c a. (b -&gt; c) -&gt; p a b -&gt; p a c
forall (p :: * -&gt; * -&gt; *) b c a.
Profunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">rmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; () -&gt; b
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679157852"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p a ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span id="local-6989586621679157238"><span id="local-6989586621679157239"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proUnitDefault"><span class="hs-identifier hs-type">proUnitDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157238"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157239"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157238"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157239"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-93"></span><span id="proUnitDefault"><span class="annot"><span class="annottext">proUnitDefault :: forall (p :: * -&gt; * -&gt; *) a. Applicative (p a) =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnitDefault"><span class="hs-identifier hs-var hs-var">proUnitDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; p a ()
forall a. a -&gt; p a a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span id="local-6989586621679157244"><span id="local-6989586621679157245"><span id="local-6989586621679157246"><span id="local-6989586621679157247"><span id="local-6989586621679157248"><span class="annot"><a href="Data.Profunctor.Cartesian.html#liftA2Default"><span class="hs-identifier hs-type">liftA2Default</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157244"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157245"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157246"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157247"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157244"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157248"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157245"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157244"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157248"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157246"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157244"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157248"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157247"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span><span>
</span><span id="line-96"></span><span id="liftA2Default"><span class="annot"><span class="annottext">liftA2Default :: forall (p :: * -&gt; * -&gt; *) a b c x.
Cartesian p =&gt;
(a -&gt; b -&gt; c) -&gt; p x a -&gt; p x b -&gt; p x c
</span><a href="Data.Profunctor.Cartesian.html#liftA2Default"><span class="hs-identifier hs-var hs-var">liftA2Default</span></a></span></span><span> </span><span id="local-6989586621679157859"><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621679157859"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(x -&gt; (x, x)) -&gt; ((a, b) -&gt; c) -&gt; p x a -&gt; p x b -&gt; p x c
forall a a1 a2 b1 b2 b.
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cartesian p =&gt;
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-identifier hs-var">proProduct</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; (x, x)
forall a. a -&gt; (a, a)
</span><a href="Data.Profunctor.Cartesian.html#delta"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621679157859"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span id="local-6989586621679157257"><span id="local-6989586621679157258"><span id="local-6989586621679157259"><span id="local-6989586621679157260"><span class="annot"><a href="Data.Profunctor.Cartesian.html#fanoutDefault"><span class="hs-identifier hs-type">fanoutDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679157257"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157257"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157258"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157257"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157258"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157259"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157257"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157258"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157260"><span class="hs-identifier hs-type">b2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157257"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157258"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157259"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157260"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-99"></span><span id="fanoutDefault"><span class="annot"><span class="annottext">fanoutDefault :: forall (p :: * -&gt; * -&gt; *) a b1 b2.
(Profunctor p, Applicative (p a)) =&gt;
p a b1 -&gt; p a b2 -&gt; p a (b1, b2)
</span><a href="Data.Profunctor.Cartesian.html#fanoutDefault"><span class="hs-identifier hs-var hs-var">fanoutDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b1 -&gt; b2 -&gt; (b1, b2)) -&gt; p a b1 -&gt; p a b2 -&gt; p a (b1, b2)
forall a b c. (a -&gt; b -&gt; c) -&gt; p a a -&gt; p a b -&gt; p a c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157870"><span id="local-6989586621679157875"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>  </span><span id="local-6989586621679157879"><span class="annot"><span class="annottext">proUnit :: forall a. a -&gt; ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; a -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>  </span><span id="local-6989586621679157882"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679157882"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679157883"><span class="annot"><span class="annottext">*** :: forall a b a' b'. (a -&gt; b) -&gt; (a' -&gt; b') -&gt; (a, a') -&gt; (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span id="local-6989586621679157884"><span class="annot"><span class="annottext">a' -&gt; b'
</span><a href="#local-6989586621679157884"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (a' -&gt; b') -&gt; (a, a') -&gt; (b, b')
forall a b a' b'. (a -&gt; b) -&gt; (a' -&gt; b') -&gt; (a, a') -&gt; (b, b')
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><span class="hs-identifier hs-var">bimap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679157882"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">a' -&gt; b'
</span><a href="#local-6989586621679157884"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span id="local-6989586621679157887"><span class="annot"><span class="annottext">proPower :: forall (n :: Nat) a b.
KnownNat n =&gt;
(a -&gt; b) -&gt; (Finite n -&gt; a) -&gt; (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var hs-var hs-var hs-var">proPower</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (Finite n -&gt; a) -&gt; Finite n -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">(.)</span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157291"><span id="local-6989586621679157895"><span id="local-6989586621679157900"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679157291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Forget</span></span><span> </span><span class="annot"><a href="#local-6989586621679157291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>  </span><span id="local-6989586621679157906"><span class="annot"><span class="annottext">proUnit :: forall a. Forget r a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; Forget r a ()
forall {k} r a (b :: k). (a -&gt; r) -&gt; Forget r a b
</span><span class="hs-identifier hs-var">Forget</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; a -&gt; r
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">r
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Forget</span></span><span> </span><span id="local-6989586621679157909"><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679157909"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679157910"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Forget r a b -&gt; Forget r a' b' -&gt; Forget r (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Forget</span></span><span> </span><span id="local-6989586621679157911"><span class="annot"><span class="annottext">a' -&gt; r
</span><a href="#local-6989586621679157911"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, a') -&gt; r) -&gt; Forget r (a, a') (b, b')
forall {k} r a (b :: k). (a -&gt; r) -&gt; Forget r a b
</span><span class="hs-identifier hs-var">Forget</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679157912"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679157912"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679157913"><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679157913"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679157909"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679157912"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">a' -&gt; r
</span><a href="#local-6989586621679157911"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679157913"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>  </span><span id="local-6989586621679157919"><span class="annot"><span class="annottext">proPower :: forall (n :: Nat) a b.
KnownNat n =&gt;
Forget r a b -&gt; Forget r (Finite n -&gt; a) (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var hs-var hs-var hs-var">proPower</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Forget</span></span><span> </span><span id="local-6989586621679157920"><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679157920"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Finite n -&gt; a) -&gt; r) -&gt; Forget r (Finite n -&gt; a) (Finite n -&gt; b)
forall {k} r a (b :: k). (a -&gt; r) -&gt; Forget r a b
</span><span class="hs-identifier hs-var">Forget</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679157921"><span class="annot"><span class="annottext">Finite n -&gt; a
</span><a href="#local-6989586621679157921"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Finite n -&gt; r) -&gt; [Finite n] -&gt; r
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679157920"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; (Finite n -&gt; a) -&gt; Finite n -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; a
</span><a href="#local-6989586621679157921"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Finite n]
forall (n :: Nat). KnownNat n =&gt; [Finite n]
</span><span class="hs-identifier hs-var">finites</span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157313"><span id="local-6989586621679157930"><span id="local-6989586621679157935"><span id="local-6989586621679157938"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679157313"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span class="annot"><a href="#local-6989586621679157313"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621679157944"><span class="annot"><span class="annottext">proUnit :: forall a. Star f a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; f ()) -&gt; Star f a ()
forall {k} (f :: k -&gt; *) d (c :: k). (d -&gt; f c) -&gt; Star f d c
</span><span class="hs-identifier hs-var">Star</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f () -&gt; a -&gt; f ()
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; f ()
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span id="local-6989586621679157947"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679157947"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679157948"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Star f a b -&gt; Star f a' b' -&gt; Star f (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span id="local-6989586621679157949"><span class="annot"><span class="annottext">a' -&gt; f b'
</span><a href="#local-6989586621679157949"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, a') -&gt; f (b, b')) -&gt; Star f (a, a') (b, b')
forall {k} (f :: k -&gt; *) d (c :: k). (d -&gt; f c) -&gt; Star f d c
</span><span class="hs-identifier hs-var">Star</span></span><span> </span><span class="annot"><span class="annottext">(((a, a') -&gt; f (b, b')) -&gt; Star f (a, a') (b, b'))
-&gt; ((a, a') -&gt; f (b, b')) -&gt; Star f (a, a') (b, b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679157950"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679157950"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679157951"><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679157951"><span class="hs-identifier hs-var">a'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(b -&gt; b' -&gt; (b, b')) -&gt; f b -&gt; f b' -&gt; f (b, b')
forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679157947"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679157950"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a' -&gt; f b'
</span><a href="#local-6989586621679157949"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679157951"><span class="hs-identifier hs-var">a'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157327"><span id="local-6989586621679157959"><span id="local-6989586621679157964"><span id="local-6989586621679157967"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679157327"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Joker</span></span><span> </span><span class="annot"><a href="#local-6989586621679157327"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>  </span><span id="local-6989586621679157972"><span class="annot"><span class="annottext">proUnit :: forall a. Joker f a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f () -&gt; Joker f a ()
forall {k} {k1} (g :: k -&gt; *) (a :: k1) (b :: k).
g b -&gt; Joker g a b
</span><span class="hs-identifier hs-var">Joker</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; f ()
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Joker</span></span><span> </span><span id="local-6989586621679157975"><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679157975"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679157976"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Joker f a b -&gt; Joker f a' b' -&gt; Joker f (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Joker</span></span><span> </span><span id="local-6989586621679157977"><span class="annot"><span class="annottext">f b'
</span><a href="#local-6989586621679157977"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (b, b') -&gt; Joker f (a, a') (b, b')
forall {k} {k1} (g :: k -&gt; *) (a :: k1) (b :: k).
g b -&gt; Joker g a b
</span><span class="hs-identifier hs-var">Joker</span></span><span> </span><span class="annot"><span class="annottext">(f (b, b') -&gt; Joker f (a, a') (b, b'))
-&gt; f (b, b') -&gt; Joker f (a, a') (b, b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; b' -&gt; (b, b')) -&gt; f b -&gt; f b' -&gt; f (b, b')
forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679157975"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">f b'
</span><a href="#local-6989586621679157977"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157345"><span id="local-6989586621679157985"><span id="local-6989586621679157990"><span id="local-6989586621679157993"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Divisible</span></span><span> </span><span class="annot"><a href="#local-6989586621679157345"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Clown</span></span><span> </span><span class="annot"><a href="#local-6989586621679157345"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-120"></span><span>  </span><span id="local-6989586621679157999"><span class="annot"><span class="annottext">proUnit :: forall a. Clown f a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; Clown f a ()
forall {k} {k1} (f :: k -&gt; *) (a :: k) (b :: k1).
f a -&gt; Clown f a b
</span><span class="hs-identifier hs-var">Clown</span></span><span> </span><span class="annot"><span class="annottext">f a
forall a. f a
forall (f :: * -&gt; *) a. Divisible f =&gt; f a
</span><span class="hs-identifier hs-var">conquer</span></span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Clown</span></span><span> </span><span id="local-6989586621679158003"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679158003"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158004"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Clown f a b -&gt; Clown f a' b' -&gt; Clown f (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Clown</span></span><span> </span><span id="local-6989586621679158005"><span class="annot"><span class="annottext">f a'
</span><a href="#local-6989586621679158005"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (a, a') -&gt; Clown f (a, a') (b, b')
forall {k} {k1} (f :: k -&gt; *) (a :: k) (b :: k1).
f a -&gt; Clown f a b
</span><span class="hs-identifier hs-var">Clown</span></span><span> </span><span class="annot"><span class="annottext">(f (a, a') -&gt; Clown f (a, a') (b, b'))
-&gt; f (a, a') -&gt; Clown f (a, a') (b, b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f a' -&gt; f (a, a')
forall (f :: * -&gt; *) a b. Divisible f =&gt; f a -&gt; f b -&gt; f (a, b)
</span><span class="hs-identifier hs-var">divided</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679158003"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">f a'
</span><a href="#local-6989586621679158005"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157365"><span id="local-6989586621679157366"><span id="local-6989586621679158016"><span id="local-6989586621679158021"><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157365"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157366"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Product</span></span><span> </span><span class="annot"><a href="#local-6989586621679157365"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157366"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-124"></span><span>  </span><span id="local-6989586621679158026"><span class="annot"><span class="annottext">proUnit :: forall a. Product p q a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a () -&gt; q a () -&gt; Product p q a ()
forall {k} {k1} (f :: k -&gt; k1 -&gt; *) (g :: k -&gt; k1 -&gt; *) (a :: k)
       (b :: k1).
f a b -&gt; g a b -&gt; Product f g a b
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="annot"><span class="annottext">p a ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span> </span><span class="annot"><span class="annottext">q a ()
forall a. q a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679158030"><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158030"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158031"><span class="annot"><span class="annottext">q a b
</span><a href="#local-6989586621679158031"><span class="hs-identifier hs-var">q1</span></a></span></span><span> </span><span id="local-6989586621679158032"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Product p q a b -&gt; Product p q a' b' -&gt; Product p q (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679158033"><span class="annot"><span class="annottext">p a' b'
</span><a href="#local-6989586621679158033"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span id="local-6989586621679158034"><span class="annot"><span class="annottext">q a' b'
</span><a href="#local-6989586621679158034"><span class="hs-identifier hs-var">q2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (a, a') (b, b')
-&gt; q (a, a') (b, b') -&gt; Product p q (a, a') (b, b')
forall {k} {k1} (f :: k -&gt; k1 -&gt; *) (g :: k -&gt; k1 -&gt; *) (a :: k)
       (b :: k1).
f a b -&gt; g a b -&gt; Product f g a b
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158030"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">p a' b'
</span><a href="#local-6989586621679158033"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a b
</span><a href="#local-6989586621679158031"><span class="hs-identifier hs-var">q1</span></a></span><span> </span><span class="annot"><span class="annottext">q a b -&gt; q a' b' -&gt; q (a, a') (b, b')
forall a b a' b'. q a b -&gt; q a' b' -&gt; q (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">q a' b'
</span><a href="#local-6989586621679158034"><span class="hs-identifier hs-var">q2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621679158040"><span class="annot"><span class="annottext">proPower :: forall (n :: Nat) a b.
KnownNat n =&gt;
Product p q a b -&gt; Product p q (Finite n -&gt; a) (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var hs-var hs-var hs-var">proPower</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679158041"><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158041"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158042"><span class="annot"><span class="annottext">q a b
</span><a href="#local-6989586621679158042"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (Finite n -&gt; a) (Finite n -&gt; b)
-&gt; q (Finite n -&gt; a) (Finite n -&gt; b)
-&gt; Product p q (Finite n -&gt; a) (Finite n -&gt; b)
forall {k} {k1} (f :: k -&gt; k1 -&gt; *) (g :: k -&gt; k1 -&gt; *) (a :: k)
       (b :: k1).
f a b -&gt; g a b -&gt; Product f g a b
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
forall (n :: Nat) a b.
KnownNat n =&gt;
p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var">proPower</span></a></span><span> </span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158041"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a b -&gt; q (Finite n -&gt; a) (Finite n -&gt; b)
forall (n :: Nat) a b.
KnownNat n =&gt;
q a b -&gt; q (Finite n -&gt; a) (Finite n -&gt; b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var">proPower</span></a></span><span> </span><span class="annot"><span class="annottext">q a b
</span><a href="#local-6989586621679158042"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157386"><span id="local-6989586621679157387"><span id="local-6989586621679158052"><span id="local-6989586621679158057"><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157386"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157387"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Procompose</span></span><span> </span><span class="annot"><a href="#local-6989586621679157386"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157387"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>  </span><span id="local-6989586621679158062"><span class="annot"><span class="annottext">proUnit :: forall a. Procompose p q a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p () () -&gt; q a () -&gt; Procompose p q a ()
forall {k} {k1} {k2} (p :: k -&gt; k1 -&gt; *) (x :: k) (c :: k1)
       (q :: k2 -&gt; k -&gt; *) (d :: k2).
p x c -&gt; q d x -&gt; Procompose p q d c
</span><span class="hs-identifier hs-var">Procompose</span></span><span> </span><span class="annot"><span class="annottext">p () ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span> </span><span class="annot"><span class="annottext">q a ()
forall a. q a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Procompose</span></span><span> </span><span id="local-6989586621679158064"><span class="annot"><span class="annottext">p x b
</span><a href="#local-6989586621679158064"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158065"><span class="annot"><span class="annottext">q a x
</span><a href="#local-6989586621679158065"><span class="hs-identifier hs-var">q1</span></a></span></span><span> </span><span id="local-6989586621679158066"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Procompose p q a b
-&gt; Procompose p q a' b' -&gt; Procompose p q (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Procompose</span></span><span> </span><span id="local-6989586621679158069"><span class="annot"><span class="annottext">p x b'
</span><a href="#local-6989586621679158069"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span id="local-6989586621679158070"><span class="annot"><span class="annottext">q a' x
</span><a href="#local-6989586621679158070"><span class="hs-identifier hs-var">q2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="annottext">p (x, x) (b, b')
-&gt; q (a, a') (x, x) -&gt; Procompose p q (a, a') (b, b')
forall {k} {k1} {k2} (p :: k -&gt; k1 -&gt; *) (x :: k) (c :: k1)
       (q :: k2 -&gt; k -&gt; *) (d :: k2).
p x c -&gt; q d x -&gt; Procompose p q d c
</span><span class="hs-identifier hs-var">Procompose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p x b
</span><a href="#local-6989586621679158064"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">p x b -&gt; p x b' -&gt; p (x, x) (b, b')
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">p x b'
</span><a href="#local-6989586621679158069"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a x
</span><a href="#local-6989586621679158065"><span class="hs-identifier hs-var">q1</span></a></span><span> </span><span class="annot"><span class="annottext">q a x -&gt; q a' x -&gt; q (a, a') (x, x)
forall a b a' b'. q a b -&gt; q a' b' -&gt; q (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">q a' x
</span><a href="#local-6989586621679158070"><span class="hs-identifier hs-var">q2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>  </span><span id="local-6989586621679158072"><span class="annot"><span class="annottext">proPower :: forall (n :: Nat) a b.
KnownNat n =&gt;
Procompose p q a b
-&gt; Procompose p q (Finite n -&gt; a) (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var hs-var hs-var hs-var">proPower</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Procompose</span></span><span> </span><span id="local-6989586621679158077"><span class="annot"><span class="annottext">p x b
</span><a href="#local-6989586621679158077"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158078"><span class="annot"><span class="annottext">q a x
</span><a href="#local-6989586621679158078"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (Finite n -&gt; x) (Finite n -&gt; b)
-&gt; q (Finite n -&gt; a) (Finite n -&gt; x)
-&gt; Procompose p q (Finite n -&gt; a) (Finite n -&gt; b)
forall {k} {k1} {k2} (p :: k -&gt; k1 -&gt; *) (x :: k) (c :: k1)
       (q :: k2 -&gt; k -&gt; *) (d :: k2).
p x c -&gt; q d x -&gt; Procompose p q d c
</span><span class="hs-identifier hs-var">Procompose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p x b -&gt; p (Finite n -&gt; x) (Finite n -&gt; b)
forall (n :: Nat) a b.
KnownNat n =&gt;
p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var">proPower</span></a></span><span> </span><span class="annot"><span class="annottext">p x b
</span><a href="#local-6989586621679158077"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a x -&gt; q (Finite n -&gt; a) (Finite n -&gt; x)
forall (n :: Nat) a b.
KnownNat n =&gt;
q a b -&gt; q (Finite n -&gt; a) (Finite n -&gt; b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var">proPower</span></a></span><span> </span><span class="annot"><span class="annottext">q a x
</span><a href="#local-6989586621679158078"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157411"><span id="local-6989586621679158085"><span id="local-6989586621679158090"><span id="local-6989586621679158093"><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157411"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Yoneda</span></span><span> </span><span class="annot"><a href="#local-6989586621679157411"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621679158102"><span class="annot"><span class="annottext">proUnit :: forall a. Yoneda p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a () -&gt; Yoneda p a ()
p :-&gt; Yoneda p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; p :-&gt; Yoneda p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorMonad t, Profunctor p) =&gt;
p :-&gt; t p
</span><span class="hs-identifier hs-var">proreturn</span></span><span> </span><span class="annot"><span class="annottext">p a ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span id="local-6989586621679158112"><span class="annot"><span class="annottext">Yoneda p a b
</span><a href="#local-6989586621679158112"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158113"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Yoneda p a b -&gt; Yoneda p a' b' -&gt; Yoneda p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span id="local-6989586621679158114"><span class="annot"><span class="annottext">Yoneda p a' b'
</span><a href="#local-6989586621679158114"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (a, a') (b, b') -&gt; Yoneda p (a, a') (b, b')
p :-&gt; Yoneda p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; p :-&gt; Yoneda p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorMonad t, Profunctor p) =&gt;
p :-&gt; t p
</span><span class="hs-identifier hs-var">proreturn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Yoneda p a b -&gt; p a b
Yoneda p :-&gt; p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; Yoneda p :-&gt; p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorComonad t, Profunctor p) =&gt;
t p :-&gt; p
</span><span class="hs-identifier hs-var">proextract</span></span><span> </span><span class="annot"><span class="annottext">Yoneda p a b
</span><a href="#local-6989586621679158112"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">Yoneda p a' b' -&gt; p a' b'
Yoneda p :-&gt; p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; Yoneda p :-&gt; p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorComonad t, Profunctor p) =&gt;
t p :-&gt; p
</span><span class="hs-identifier hs-var">proextract</span></span><span> </span><span class="annot"><span class="annottext">Yoneda p a' b'
</span><a href="#local-6989586621679158114"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157427"><span id="local-6989586621679158122"><span id="local-6989586621679158127"><span id="local-6989586621679158130"><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157427"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Coyoneda</span></span><span> </span><span class="annot"><a href="#local-6989586621679157427"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-139"></span><span>  </span><span id="local-6989586621679158139"><span class="annot"><span class="annottext">proUnit :: forall a. Coyoneda p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a () -&gt; Coyoneda p a ()
p :-&gt; Coyoneda p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; p :-&gt; Coyoneda p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorMonad t, Profunctor p) =&gt;
p :-&gt; t p
</span><span class="hs-identifier hs-var">proreturn</span></span><span> </span><span class="annot"><span class="annottext">p a ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Coyoneda</span></span><span> </span><span id="local-6989586621679158141"><span class="annot"><span class="annottext">a -&gt; x
</span><a href="#local-6989586621679158141"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span id="local-6989586621679158142"><span class="annot"><span class="annottext">y -&gt; b
</span><a href="#local-6989586621679158142"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span id="local-6989586621679158143"><span class="annot"><span class="annottext">p x y
</span><a href="#local-6989586621679158143"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158144"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Coyoneda p a b -&gt; Coyoneda p a' b' -&gt; Coyoneda p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Coyoneda</span></span><span> </span><span id="local-6989586621679158148"><span class="annot"><span class="annottext">a' -&gt; x
</span><a href="#local-6989586621679158148"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span id="local-6989586621679158149"><span class="annot"><span class="annottext">y -&gt; b'
</span><a href="#local-6989586621679158149"><span class="hs-identifier hs-var">r2</span></a></span></span><span> </span><span id="local-6989586621679158150"><span class="annot"><span class="annottext">p x y
</span><a href="#local-6989586621679158150"><span class="hs-identifier hs-var">q</span></a></span></span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, a') -&gt; (x, x))
-&gt; ((y, y) -&gt; (b, b'))
-&gt; p (x, x) (y, y)
-&gt; Coyoneda p (a, a') (b, b')
forall a x y b (p :: * -&gt; * -&gt; *).
(a -&gt; x) -&gt; (y -&gt; b) -&gt; p x y -&gt; Coyoneda p a b
</span><span class="hs-identifier hs-var">Coyoneda</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; x
</span><a href="#local-6989586621679158141"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; x) -&gt; (a' -&gt; x) -&gt; (a, a') -&gt; (x, x)
forall a b a' b'. (a -&gt; b) -&gt; (a' -&gt; b') -&gt; (a, a') -&gt; (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">a' -&gt; x
</span><a href="#local-6989586621679158148"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">y -&gt; b
</span><a href="#local-6989586621679158142"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">(y -&gt; b) -&gt; (y -&gt; b') -&gt; (y, y) -&gt; (b, b')
forall a b a' b'. (a -&gt; b) -&gt; (a' -&gt; b') -&gt; (a, a') -&gt; (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">y -&gt; b'
</span><a href="#local-6989586621679158149"><span class="hs-identifier hs-var">r2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p x y
</span><a href="#local-6989586621679158143"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p x y -&gt; p x y -&gt; p (x, x) (y, y)
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">p x y
</span><a href="#local-6989586621679158150"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Cocartesian"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-var">Cocartesian</span></a></span></span><span> </span><span id="local-6989586621679157442"><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-pragma hs-type">proEmpty</span></a></span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#proSum"><span class="hs-pragma hs-type">proSum</span></a></span><span> </span><span class="hs-pragma">|</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">+++</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">|</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">|||</span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-comment">-- | Unit of the sum.</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-comment">-- The type of 'proEmpty' can be understood as @proEmpty' :: p Void 'Void'@</span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-comment">-- treated to have more generally-typed @p Void b@ using 'rmap'.</span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-comment">-- </span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-comment">-- 'absurd'    :: Void -&gt; b</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-comment">-- proEmpty' :: p Void Void</span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-comment">-- 'rmap' absurd proEmpty' :: p Void b</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-156"></span><span>  </span><span id="proEmpty"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-type">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157502"><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><a href="#local-6989586621679157502"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-157"></span><span>  </span><span>
</span><span id="line-158"></span><span>  </span><span id="proSum"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proSum"><span class="hs-identifier hs-type">proSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157443"><span id="local-6989586621679157444"><span id="local-6989586621679157445"><span id="local-6989586621679157446"><span id="local-6989586621679157447"><span id="local-6989586621679157448"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157443"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679157444"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157445"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679157446"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157447"><span class="hs-identifier hs-type">b2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157448"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157444"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157446"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157445"><span class="hs-identifier hs-type">a2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157447"><span class="hs-identifier hs-type">b2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157443"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157448"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-159"></span><span>  </span><span id="local-6989586621679158157"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proSum"><span class="hs-identifier hs-var hs-var">proSum</span></a></span><span> </span><span id="local-6989586621679158161"><span class="annot"><span class="annottext">a -&gt; Either a1 a2
</span><a href="#local-6989586621679158161"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679158162"><span class="annot"><span class="annottext">Either b1 b2 -&gt; b
</span><a href="#local-6989586621679158162"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679158163"><span class="annot"><span class="annottext">p a1 b1
</span><a href="#local-6989586621679158163"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158164"><span class="annot"><span class="annottext">p a2 b2
</span><a href="#local-6989586621679158164"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p (Either a1 a2) (Either b1 b2) -&gt; p a b
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a1 a2
</span><a href="#local-6989586621679158161"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Either b1 b2 -&gt; b
</span><a href="#local-6989586621679158162"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a1 b1
</span><a href="#local-6989586621679158163"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p a1 b1 -&gt; p a2 b2 -&gt; p (Either a1 a2) (Either b1 b2)
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">p a2 b2
</span><a href="#local-6989586621679158164"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-comment">-- | Sum of two profunctors</span><span>
</span><span id="line-162"></span><span>  </span><span id="%2B%2B%2B"><span class="annot"><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-type">(+++)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157455"><span id="local-6989586621679157456"><span id="local-6989586621679157457"><span id="local-6989586621679157458"><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157455"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157456"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157457"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157458"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679157455"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157457"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679157456"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157458"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-163"></span><span>  </span><span id="local-6989586621679158165"><span id="local-6989586621679158170"><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158170"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var">+++</span></a></span><span> </span><span id="local-6989586621679158171"><span class="annot"><span class="annottext">p a' b'
</span><a href="#local-6989586621679158171"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either b b') -&gt; p a b -&gt; p a (Either b b')
forall b c a. (b -&gt; c) -&gt; p a b -&gt; p a c
forall (p :: * -&gt; * -&gt; *) b c a.
Profunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">rmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either b b'
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158170"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p a (Either b b')
-&gt; p a' (Either b b') -&gt; p (Either a a') (Either b b')
forall a b a'. p a b -&gt; p a' b -&gt; p (Either a a') b
forall (p :: * -&gt; * -&gt; *) a b a'.
Cocartesian p =&gt;
p a b -&gt; p a' b -&gt; p (Either a a') b
</span><a href="Data.Profunctor.Cartesian.html#%7C%7C%7C"><span class="hs-operator hs-var">|||</span></a></span><span> </span><span class="annot"><span class="annottext">(b' -&gt; Either b b') -&gt; p a' b' -&gt; p a' (Either b b')
forall b c a. (b -&gt; c) -&gt; p a b -&gt; p a c
forall (p :: * -&gt; * -&gt; *) b c a.
Profunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">rmap</span></span><span> </span><span class="annot"><span class="annottext">b' -&gt; Either b b'
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">p a' b'
</span><a href="#local-6989586621679158171"><span class="hs-identifier hs-var">q</span></a></span></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-comment">-- | Alternative way to define the sum (pronounced \&quot;fan-in\&quot;)</span><span>
</span><span id="line-166"></span><span>  </span><span id="%7C%7C%7C"><span class="annot"><a href="Data.Profunctor.Cartesian.html#%7C%7C%7C"><span class="hs-operator hs-type">(|||)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157465"><span id="local-6989586621679157466"><span id="local-6989586621679157467"><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157465"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157466"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157467"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157466"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679157465"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157467"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679157466"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679158172"><span class="annot"><a href="Data.Profunctor.Cartesian.html#%7C%7C%7C"><span class="hs-operator hs-var hs-var">(|||)</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Either a a' -&gt; Either a a')
-&gt; (Either b b -&gt; b) -&gt; p a b -&gt; p a' b -&gt; p (Either a a') b
forall a a1 a2 b1 b2 b.
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cocartesian p =&gt;
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proSum"><span class="hs-identifier hs-var">proSum</span></a></span><span> </span><span class="annot"><span class="annottext">Either a a' -&gt; Either a a'
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">Either b b -&gt; b
forall a. Either a a -&gt; a
</span><a href="Data.Profunctor.Cartesian.html#nabla"><span class="hs-identifier hs-var">nabla</span></a></span></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-comment">-- | Pairing with finite types can be constructed as iterated sum.</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-comment">-- There is a default implementaion, but it can be more efficient implementation.</span><span>
</span><span id="line-172"></span><span>  </span><span id="proTimes"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-type">proTimes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679157472"><span id="local-6989586621679157473"><span id="local-6989586621679157474"><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679157472"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157473"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157474"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157442"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Finite</span></span><span> </span><span class="annot"><a href="#local-6989586621679157472"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157473"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Finite</span></span><span> </span><span class="annot"><a href="#local-6989586621679157472"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157474"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621679158176"><span class="annot"><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var hs-var">proTimes</span></a></span><span> </span><span id="local-6989586621679158184"><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158184"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Copower p (Finite n) (Finite n)
-&gt; forall s t. p s t -&gt; p (Finite n, s) (Finite n, t)
forall (p :: * -&gt; * -&gt; *) a b.
Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
</span><a href="Data.Profunctor.Cartesian.html#runCopower"><span class="hs-identifier hs-var">runCopower</span></a></span><span> </span><span class="annot"><span class="annottext">Copower p (Finite n) (Finite n)
forall (n :: Nat) (p :: * -&gt; * -&gt; *).
(KnownNat n, Cartesian p, Cocartesian p) =&gt;
p (Finite n) (Finite n)
</span><a href="Data.Profunctor.Cartesian.html#describeFinite"><span class="hs-identifier hs-var">describeFinite</span></a></span><span> </span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158184"><span class="hs-identifier hs-var">p</span></a></span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span id="local-6989586621679157471"><span class="annot"><a href="Data.Profunctor.Cartesian.html#nabla"><span class="hs-identifier hs-type">nabla</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679157471"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157471"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157471"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-176"></span><span id="nabla"><span class="annot"><span class="annottext">nabla :: forall a. Either a a -&gt; a
</span><a href="Data.Profunctor.Cartesian.html#nabla"><span class="hs-identifier hs-var hs-var">nabla</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; (a -&gt; a) -&gt; Either a a -&gt; a
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span id="local-6989586621679157490"><span id="local-6989586621679157491"><span id="local-6989586621679157492"><span class="annot"><a href="Data.Profunctor.Cartesian.html#sumDay"><span class="hs-identifier hs-type">sumDay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157490"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157491"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:-&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679157490"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157492"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:-&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679157490"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Day.html#Day"><span class="hs-identifier hs-type">Day</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679157491"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157492"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:-&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679157490"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-179"></span><span id="sumDay"><span class="annot"><span class="annottext">sumDay :: forall (r :: * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *).
Cocartesian r =&gt;
(p :-&gt; r) -&gt; (q :-&gt; r) -&gt; Day Either p q :-&gt; r
</span><a href="Data.Profunctor.Cartesian.html#sumDay"><span class="hs-identifier hs-var hs-var">sumDay</span></a></span></span><span> </span><span id="local-6989586621679158188"><span class="annot"><span class="annottext">p :-&gt; r
</span><a href="#local-6989586621679158188"><span class="hs-identifier hs-var">pr</span></a></span></span><span> </span><span id="local-6989586621679158189"><span class="annot"><span class="annottext">q :-&gt; r
</span><a href="#local-6989586621679158189"><span class="hs-identifier hs-var">qr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Day.html#Day"><span class="hs-identifier hs-type">Day</span></a></span><span> </span><span id="local-6989586621679158191"><span class="annot"><span class="annottext">p a1 b1
</span><a href="#local-6989586621679158191"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158192"><span class="annot"><span class="annottext">q a2 b2
</span><a href="#local-6989586621679158192"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679158193"><span class="annot"><span class="annottext">a -&gt; Either a1 a2
</span><a href="#local-6989586621679158193"><span class="hs-identifier hs-var">opA</span></a></span></span><span> </span><span id="local-6989586621679158194"><span class="annot"><span class="annottext">Either b1 b2 -&gt; b
</span><a href="#local-6989586621679158194"><span class="hs-identifier hs-var">opB</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; r a1 b1 -&gt; r a2 b2 -&gt; r a b
forall a a1 a2 b1 b2 b.
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; r a1 b1 -&gt; r a2 b2 -&gt; r a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cocartesian p =&gt;
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proSum"><span class="hs-identifier hs-var">proSum</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a1 a2
</span><a href="#local-6989586621679158193"><span class="hs-identifier hs-var">opA</span></a></span><span> </span><span class="annot"><span class="annottext">Either b1 b2 -&gt; b
</span><a href="#local-6989586621679158194"><span class="hs-identifier hs-var">opB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a1 b1 -&gt; r a1 b1
p :-&gt; r
</span><a href="#local-6989586621679158188"><span class="hs-identifier hs-var">pr</span></a></span><span> </span><span class="annot"><span class="annottext">p a1 b1
</span><a href="#local-6989586621679158191"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a2 b2 -&gt; r a2 b2
q :-&gt; r
</span><a href="#local-6989586621679158189"><span class="hs-identifier hs-var">qr</span></a></span><span> </span><span class="annot"><span class="annottext">q a2 b2
</span><a href="#local-6989586621679158192"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679158199"><span id="local-6989586621679158204"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-182"></span><span>  </span><span id="local-6989586621679158208"><span class="annot"><span class="annottext">proEmpty :: forall b. Void -&gt; b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Void -&gt; b
forall b. Void -&gt; b
</span><span class="hs-identifier hs-var">absurd</span></span><span>
</span><span id="line-183"></span><span>  </span><span id="local-6989586621679158212"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679158212"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158213"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
(a -&gt; b) -&gt; (a' -&gt; b') -&gt; Either a a' -&gt; Either b b'
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span id="local-6989586621679158214"><span class="annot"><span class="annottext">a' -&gt; b'
</span><a href="#local-6989586621679158214"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (a' -&gt; b') -&gt; Either a a' -&gt; Either b b'
forall a b a' b'.
(a -&gt; b) -&gt; (a' -&gt; b') -&gt; Either a a' -&gt; Either b b'
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><span class="hs-identifier hs-var">bimap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679158212"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">a' -&gt; b'
</span><a href="#local-6989586621679158214"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span id="local-6989586621679158217"><span class="annot"><span class="annottext">proTimes :: forall (n :: Nat) a b.
KnownNat n =&gt;
(a -&gt; b) -&gt; (Finite n, a) -&gt; (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var hs-var hs-var hs-var">proTimes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (Finite n, a) -&gt; (Finite n, b)
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">second</span></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157515"><span id="local-6989586621679158223"><span id="local-6989586621679158228"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Forget</span></span><span> </span><span class="annot"><a href="#local-6989586621679157515"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-187"></span><span>  </span><span id="local-6989586621679158231"><span class="annot"><span class="annottext">proEmpty :: forall b. Forget r Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Void -&gt; r) -&gt; Forget r Void b
forall {k} r a (b :: k). (a -&gt; r) -&gt; Forget r a b
</span><span class="hs-identifier hs-var">Forget</span></span><span> </span><span class="annot"><span class="annottext">Void -&gt; r
forall b. Void -&gt; b
</span><span class="hs-identifier hs-var">absurd</span></span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Forget</span></span><span> </span><span id="local-6989586621679158232"><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679158232"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679158233"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Forget r a b
-&gt; Forget r a' b' -&gt; Forget r (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Forget</span></span><span> </span><span id="local-6989586621679158234"><span class="annot"><span class="annottext">a' -&gt; r
</span><a href="#local-6989586621679158234"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Either a a' -&gt; r) -&gt; Forget r (Either a a') (Either b b')
forall {k} r a (b :: k). (a -&gt; r) -&gt; Forget r a b
</span><span class="hs-identifier hs-var">Forget</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; (a' -&gt; r) -&gt; Either a a' -&gt; r
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679158232"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a' -&gt; r
</span><a href="#local-6989586621679158234"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>  </span><span id="local-6989586621679158236"><span class="annot"><span class="annottext">proTimes :: forall (n :: Nat) a b.
KnownNat n =&gt;
Forget r a b -&gt; Forget r (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var hs-var hs-var hs-var">proTimes</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Forget</span></span><span> </span><span id="local-6989586621679158237"><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679158237"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Finite n, a) -&gt; r) -&gt; Forget r (Finite n, a) (Finite n, b)
forall {k} r a (b :: k). (a -&gt; r) -&gt; Forget r a b
</span><span class="hs-identifier hs-var">Forget</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679158237"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; ((Finite n, a) -&gt; a) -&gt; (Finite n, a) -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Finite n, a) -&gt; a
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157525"><span id="local-6989586621679158243"><span id="local-6989586621679158248"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679157525"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span class="annot"><a href="#local-6989586621679157525"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>  </span><span id="local-6989586621679158251"><span class="annot"><span class="annottext">proEmpty :: forall b. Star f Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Void -&gt; f b) -&gt; Star f Void b
forall {k} (f :: k -&gt; *) d (c :: k). (d -&gt; f c) -&gt; Star f d c
</span><span class="hs-identifier hs-var">Star</span></span><span> </span><span class="annot"><span class="annottext">Void -&gt; f b
forall b. Void -&gt; b
</span><span class="hs-identifier hs-var">absurd</span></span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span id="local-6989586621679158254"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679158254"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158255"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Star f a b -&gt; Star f a' b' -&gt; Star f (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span id="local-6989586621679158256"><span class="annot"><span class="annottext">a' -&gt; f b'
</span><a href="#local-6989586621679158256"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Either a a' -&gt; f (Either b b'))
-&gt; Star f (Either a a') (Either b b')
forall {k} (f :: k -&gt; *) d (c :: k). (d -&gt; f c) -&gt; Star f d c
</span><span class="hs-identifier hs-var">Star</span></span><span> </span><span class="annot"><span class="annottext">((Either a a' -&gt; f (Either b b'))
 -&gt; Star f (Either a a') (Either b b'))
-&gt; (Either a a' -&gt; f (Either b b'))
-&gt; Star f (Either a a') (Either b b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f (Either b b'))
-&gt; (a' -&gt; f (Either b b')) -&gt; Either a a' -&gt; f (Either b b')
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; Either b b') -&gt; f b -&gt; f (Either b b')
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either b b'
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; f (Either b b')) -&gt; (a -&gt; f b) -&gt; a -&gt; f (Either b b')
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679158254"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b' -&gt; Either b b') -&gt; f b' -&gt; f (Either b b')
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b' -&gt; Either b b'
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(f b' -&gt; f (Either b b')) -&gt; (a' -&gt; f b') -&gt; a' -&gt; f (Either b b')
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a' -&gt; f b'
</span><a href="#local-6989586621679158256"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>  </span><span id="local-6989586621679158259"><span class="annot"><span class="annottext">proTimes :: forall (n :: Nat) a b.
KnownNat n =&gt;
Star f a b -&gt; Star f (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var hs-var hs-var hs-var">proTimes</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span id="local-6989586621679158260"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679158260"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Finite n, a) -&gt; f (Finite n, b))
-&gt; Star f (Finite n, a) (Finite n, b)
forall {k} (f :: k -&gt; *) d (c :: k). (d -&gt; f c) -&gt; Star f d c
</span><span class="hs-identifier hs-var">Star</span></span><span> </span><span class="annot"><span class="annottext">(((Finite n, a) -&gt; f (Finite n, b))
 -&gt; Star f (Finite n, a) (Finite n, b))
-&gt; ((Finite n, a) -&gt; f (Finite n, b))
-&gt; Star f (Finite n, a) (Finite n, b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679158261"><span class="annot"><span class="annottext">Finite n
</span><a href="#local-6989586621679158261"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679158262"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158262"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Finite n
</span><a href="#local-6989586621679158261"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(b -&gt; (Finite n, b)) -&gt; f b -&gt; f (Finite n, b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679158260"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158262"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157544"><span id="local-6989586621679158270"><span id="local-6989586621679158275"><span id="local-6989586621679158278"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Alternative</span></span><span> </span><span class="annot"><a href="#local-6989586621679157544"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Joker</span></span><span> </span><span class="annot"><a href="#local-6989586621679157544"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-197"></span><span>  </span><span id="local-6989586621679158285"><span class="annot"><span class="annottext">proEmpty :: forall b. Joker f Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Joker f Void b
forall {k} {k1} (g :: k -&gt; *) (a :: k1) (b :: k).
g b -&gt; Joker g a b
</span><span class="hs-identifier hs-var">Joker</span></span><span> </span><span class="annot"><span class="annottext">f b
forall a. f a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-198"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Joker</span></span><span> </span><span id="local-6989586621679158290"><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679158290"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158291"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Joker f a b -&gt; Joker f a' b' -&gt; Joker f (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Joker</span></span><span> </span><span id="local-6989586621679158292"><span class="annot"><span class="annottext">f b'
</span><a href="#local-6989586621679158292"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (Either b b') -&gt; Joker f (Either a a') (Either b b')
forall {k} {k1} (g :: k -&gt; *) (a :: k1) (b :: k).
g b -&gt; Joker g a b
</span><span class="hs-identifier hs-var">Joker</span></span><span> </span><span class="annot"><span class="annottext">(f (Either b b') -&gt; Joker f (Either a a') (Either b b'))
-&gt; f (Either b b') -&gt; Joker f (Either a a') (Either b b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Either b b'
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either b b') -&gt; f b -&gt; f (Either b b')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679158290"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Either b b') -&gt; f (Either b b') -&gt; f (Either b b')
forall a. f a -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b' -&gt; Either b b'
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b' -&gt; Either b b') -&gt; f b' -&gt; f (Either b b')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">f b'
</span><a href="#local-6989586621679158292"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157556"><span id="local-6989586621679158300"><span id="local-6989586621679158305"><span id="local-6989586621679158308"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Decidable</span></span><span> </span><span class="annot"><a href="#local-6989586621679157556"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Clown</span></span><span> </span><span class="annot"><a href="#local-6989586621679157556"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621679158315"><span class="annot"><span class="annottext">proEmpty :: forall b. Clown f Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f Void -&gt; Clown f Void b
forall {k} {k1} (f :: k -&gt; *) (a :: k) (b :: k1).
f a -&gt; Clown f a b
</span><span class="hs-identifier hs-var">Clown</span></span><span> </span><span class="annot"><span class="annottext">f Void
forall (f :: * -&gt; *). Decidable f =&gt; f Void
</span><span class="hs-identifier hs-var">lost</span></span><span>
</span><span id="line-202"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Clown</span></span><span> </span><span id="local-6989586621679158318"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679158318"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158319"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Clown f a b -&gt; Clown f a' b' -&gt; Clown f (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Clown</span></span><span> </span><span id="local-6989586621679158320"><span class="annot"><span class="annottext">f a'
</span><a href="#local-6989586621679158320"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (Either a a') -&gt; Clown f (Either a a') (Either b b')
forall {k} {k1} (f :: k -&gt; *) (a :: k) (b :: k1).
f a -&gt; Clown f a b
</span><span class="hs-identifier hs-var">Clown</span></span><span> </span><span class="annot"><span class="annottext">(f (Either a a') -&gt; Clown f (Either a a') (Either b b'))
-&gt; f (Either a a') -&gt; Clown f (Either a a') (Either b b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f a' -&gt; f (Either a a')
forall (f :: * -&gt; *) b c.
Decidable f =&gt;
f b -&gt; f c -&gt; f (Either b c)
</span><span class="hs-identifier hs-var">chosen</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679158318"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">f a'
</span><a href="#local-6989586621679158320"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157568"><span id="local-6989586621679157569"><span id="local-6989586621679158330"><span id="local-6989586621679158335"><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157568"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157569"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Product</span></span><span> </span><span class="annot"><a href="#local-6989586621679157568"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157569"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>  </span><span id="local-6989586621679158340"><span class="annot"><span class="annottext">proEmpty :: forall b. Product p q Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p Void b -&gt; q Void b -&gt; Product p q Void b
forall {k} {k1} (f :: k -&gt; k1 -&gt; *) (g :: k -&gt; k1 -&gt; *) (a :: k)
       (b :: k1).
f a b -&gt; g a b -&gt; Product f g a b
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="annot"><span class="annottext">p Void b
forall b. p Void b
forall (p :: * -&gt; * -&gt; *) b. Cocartesian p =&gt; p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var">proEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">q Void b
forall b. q Void b
forall (p :: * -&gt; * -&gt; *) b. Cocartesian p =&gt; p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var">proEmpty</span></a></span><span>
</span><span id="line-207"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679158343"><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158343"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158344"><span class="annot"><span class="annottext">q a b
</span><a href="#local-6989586621679158344"><span class="hs-identifier hs-var">q1</span></a></span></span><span> </span><span id="local-6989586621679158345"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Product p q a b
-&gt; Product p q a' b' -&gt; Product p q (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679158346"><span class="annot"><span class="annottext">p a' b'
</span><a href="#local-6989586621679158346"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span id="local-6989586621679158347"><span class="annot"><span class="annottext">q a' b'
</span><a href="#local-6989586621679158347"><span class="hs-identifier hs-var">q2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (Either a a') (Either b b')
-&gt; q (Either a a') (Either b b')
-&gt; Product p q (Either a a') (Either b b')
forall {k} {k1} (f :: k -&gt; k1 -&gt; *) (g :: k -&gt; k1 -&gt; *) (a :: k)
       (b :: k1).
f a b -&gt; g a b -&gt; Product f g a b
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158343"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">p a' b'
</span><a href="#local-6989586621679158346"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a b
</span><a href="#local-6989586621679158344"><span class="hs-identifier hs-var">q1</span></a></span><span> </span><span class="annot"><span class="annottext">q a b -&gt; q a' b' -&gt; q (Either a a') (Either b b')
forall a b a' b'. q a b -&gt; q a' b' -&gt; q (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">q a' b'
</span><a href="#local-6989586621679158347"><span class="hs-identifier hs-var">q2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>  </span><span id="local-6989586621679158353"><span class="annot"><span class="annottext">proTimes :: forall (n :: Nat) a b.
KnownNat n =&gt;
Product p q a b -&gt; Product p q (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var hs-var hs-var hs-var">proTimes</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679158354"><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158354"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158355"><span class="annot"><span class="annottext">q a b
</span><a href="#local-6989586621679158355"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (Finite n, a) (Finite n, b)
-&gt; q (Finite n, a) (Finite n, b)
-&gt; Product p q (Finite n, a) (Finite n, b)
forall {k} {k1} (f :: k -&gt; k1 -&gt; *) (g :: k -&gt; k1 -&gt; *) (a :: k)
       (b :: k1).
f a b -&gt; g a b -&gt; Product f g a b
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a b -&gt; p (Finite n, a) (Finite n, b)
forall (n :: Nat) a b.
KnownNat n =&gt;
p a b -&gt; p (Finite n, a) (Finite n, b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cocartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var">proTimes</span></a></span><span> </span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679158354"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a b -&gt; q (Finite n, a) (Finite n, b)
forall (n :: Nat) a b.
KnownNat n =&gt;
q a b -&gt; q (Finite n, a) (Finite n, b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cocartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var">proTimes</span></a></span><span> </span><span class="annot"><span class="annottext">q a b
</span><a href="#local-6989586621679158355"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157580"><span id="local-6989586621679157581"><span id="local-6989586621679158364"><span id="local-6989586621679158369"><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157580"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157581"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Procompose</span></span><span> </span><span class="annot"><a href="#local-6989586621679157580"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157581"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-212"></span><span>  </span><span id="local-6989586621679158374"><span class="annot"><span class="annottext">proEmpty :: forall b. Procompose p q Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p Void b -&gt; q Void Void -&gt; Procompose p q Void b
forall {k} {k1} {k2} (p :: k -&gt; k1 -&gt; *) (x :: k) (c :: k1)
       (q :: k2 -&gt; k -&gt; *) (d :: k2).
p x c -&gt; q d x -&gt; Procompose p q d c
</span><span class="hs-identifier hs-var">Procompose</span></span><span> </span><span class="annot"><span class="annottext">p Void b
forall b. p Void b
forall (p :: * -&gt; * -&gt; *) b. Cocartesian p =&gt; p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var">proEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">q Void Void
forall b. q Void b
forall (p :: * -&gt; * -&gt; *) b. Cocartesian p =&gt; p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var">proEmpty</span></a></span><span>
</span><span id="line-213"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Procompose</span></span><span> </span><span id="local-6989586621679158375"><span class="annot"><span class="annottext">p x b
</span><a href="#local-6989586621679158375"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679158376"><span class="annot"><span class="annottext">q a x
</span><a href="#local-6989586621679158376"><span class="hs-identifier hs-var">q1</span></a></span></span><span> </span><span id="local-6989586621679158377"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Procompose p q a b
-&gt; Procompose p q a' b'
-&gt; Procompose p q (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Procompose</span></span><span> </span><span id="local-6989586621679158380"><span class="annot"><span class="annottext">p x b'
</span><a href="#local-6989586621679158380"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span id="local-6989586621679158381"><span class="annot"><span class="annottext">q a' x
</span><a href="#local-6989586621679158381"><span class="hs-identifier hs-var">q2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (Either x x) (Either b b')
-&gt; q (Either a a') (Either x x)
-&gt; Procompose p q (Either a a') (Either b b')
forall {k} {k1} {k2} (p :: k -&gt; k1 -&gt; *) (x :: k) (c :: k1)
       (q :: k2 -&gt; k -&gt; *) (d :: k2).
p x c -&gt; q d x -&gt; Procompose p q d c
</span><span class="hs-identifier hs-var">Procompose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p x b
</span><a href="#local-6989586621679158375"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">p x b -&gt; p x b' -&gt; p (Either x x) (Either b b')
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">p x b'
</span><a href="#local-6989586621679158380"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a x
</span><a href="#local-6989586621679158376"><span class="hs-identifier hs-var">q1</span></a></span><span> </span><span class="annot"><span class="annottext">q a x -&gt; q a' x -&gt; q (Either a a') (Either x x)
forall a b a' b'. q a b -&gt; q a' b' -&gt; q (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">q a' x
</span><a href="#local-6989586621679158381"><span class="hs-identifier hs-var">q2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>  </span><span id="local-6989586621679158383"><span class="annot"><span class="annottext">proTimes :: forall (n :: Nat) a b.
KnownNat n =&gt;
Procompose p q a b -&gt; Procompose p q (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var hs-var hs-var hs-var">proTimes</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Procompose</span></span><span> </span><span id="local-6989586621679158388"><span class="annot"><span class="annottext">p x b
</span><a href="#local-6989586621679158388"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158389"><span class="annot"><span class="annottext">q a x
</span><a href="#local-6989586621679158389"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (Finite n, x) (Finite n, b)
-&gt; q (Finite n, a) (Finite n, x)
-&gt; Procompose p q (Finite n, a) (Finite n, b)
forall {k} {k1} {k2} (p :: k -&gt; k1 -&gt; *) (x :: k) (c :: k1)
       (q :: k2 -&gt; k -&gt; *) (d :: k2).
p x c -&gt; q d x -&gt; Procompose p q d c
</span><span class="hs-identifier hs-var">Procompose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p x b -&gt; p (Finite n, x) (Finite n, b)
forall (n :: Nat) a b.
KnownNat n =&gt;
p a b -&gt; p (Finite n, a) (Finite n, b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cocartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var">proTimes</span></a></span><span> </span><span class="annot"><span class="annottext">p x b
</span><a href="#local-6989586621679158388"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">q a x -&gt; q (Finite n, a) (Finite n, x)
forall (n :: Nat) a b.
KnownNat n =&gt;
q a b -&gt; q (Finite n, a) (Finite n, b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cocartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var">proTimes</span></a></span><span> </span><span class="annot"><span class="annottext">q a x
</span><a href="#local-6989586621679158389"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157595"><span id="local-6989586621679158395"><span id="local-6989586621679158400"><span id="local-6989586621679158403"><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157595"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Yoneda</span></span><span> </span><span class="annot"><a href="#local-6989586621679157595"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-217"></span><span>  </span><span id="local-6989586621679158411"><span class="annot"><span class="annottext">proEmpty :: forall b. Yoneda p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p Void b -&gt; Yoneda p Void b
p :-&gt; Yoneda p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; p :-&gt; Yoneda p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorMonad t, Profunctor p) =&gt;
p :-&gt; t p
</span><span class="hs-identifier hs-var">proreturn</span></span><span> </span><span class="annot"><span class="annottext">p Void b
forall b. p Void b
forall (p :: * -&gt; * -&gt; *) b. Cocartesian p =&gt; p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var">proEmpty</span></a></span><span>
</span><span id="line-218"></span><span>  </span><span id="local-6989586621679158419"><span class="annot"><span class="annottext">Yoneda p a b
</span><a href="#local-6989586621679158419"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158420"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Yoneda p a b
-&gt; Yoneda p a' b' -&gt; Yoneda p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span id="local-6989586621679158421"><span class="annot"><span class="annottext">Yoneda p a' b'
</span><a href="#local-6989586621679158421"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p (Either a a') (Either b b')
-&gt; Yoneda p (Either a a') (Either b b')
p :-&gt; Yoneda p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; p :-&gt; Yoneda p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorMonad t, Profunctor p) =&gt;
p :-&gt; t p
</span><span class="hs-identifier hs-var">proreturn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Yoneda p a b -&gt; p a b
Yoneda p :-&gt; p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; Yoneda p :-&gt; p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorComonad t, Profunctor p) =&gt;
t p :-&gt; p
</span><span class="hs-identifier hs-var">proextract</span></span><span> </span><span class="annot"><span class="annottext">Yoneda p a b
</span><a href="#local-6989586621679158419"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">Yoneda p a' b' -&gt; p a' b'
Yoneda p :-&gt; p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; Yoneda p :-&gt; p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorComonad t, Profunctor p) =&gt;
t p :-&gt; p
</span><span class="hs-identifier hs-var">proextract</span></span><span> </span><span class="annot"><span class="annottext">Yoneda p a' b'
</span><a href="#local-6989586621679158421"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157603"><span id="local-6989586621679158427"><span id="local-6989586621679158432"><span id="local-6989586621679158435"><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157603"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Coyoneda</span></span><span> </span><span class="annot"><a href="#local-6989586621679157603"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>  </span><span id="local-6989586621679158443"><span class="annot"><span class="annottext">proEmpty :: forall b. Coyoneda p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p Void b -&gt; Coyoneda p Void b
p :-&gt; Coyoneda p
forall (p :: * -&gt; * -&gt; *). Profunctor p =&gt; p :-&gt; Coyoneda p
forall (t :: (* -&gt; * -&gt; *) -&gt; * -&gt; * -&gt; *) (p :: * -&gt; * -&gt; *).
(ProfunctorMonad t, Profunctor p) =&gt;
p :-&gt; t p
</span><span class="hs-identifier hs-var">proreturn</span></span><span> </span><span class="annot"><span class="annottext">p Void b
forall b. p Void b
forall (p :: * -&gt; * -&gt; *) b. Cocartesian p =&gt; p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var">proEmpty</span></a></span><span>
</span><span id="line-222"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Coyoneda</span></span><span> </span><span id="local-6989586621679158444"><span class="annot"><span class="annottext">a -&gt; x
</span><a href="#local-6989586621679158444"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span id="local-6989586621679158445"><span class="annot"><span class="annottext">y -&gt; b
</span><a href="#local-6989586621679158445"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span id="local-6989586621679158446"><span class="annot"><span class="annottext">p x y
</span><a href="#local-6989586621679158446"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158447"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Coyoneda p a b
-&gt; Coyoneda p a' b' -&gt; Coyoneda p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Coyoneda</span></span><span> </span><span id="local-6989586621679158451"><span class="annot"><span class="annottext">a' -&gt; x
</span><a href="#local-6989586621679158451"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span id="local-6989586621679158452"><span class="annot"><span class="annottext">y -&gt; b'
</span><a href="#local-6989586621679158452"><span class="hs-identifier hs-var">r2</span></a></span></span><span> </span><span id="local-6989586621679158453"><span class="annot"><span class="annottext">p x y
</span><a href="#local-6989586621679158453"><span class="hs-identifier hs-var">q</span></a></span></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Either a a' -&gt; Either x x)
-&gt; (Either y y -&gt; Either b b')
-&gt; p (Either x x) (Either y y)
-&gt; Coyoneda p (Either a a') (Either b b')
forall a x y b (p :: * -&gt; * -&gt; *).
(a -&gt; x) -&gt; (y -&gt; b) -&gt; p x y -&gt; Coyoneda p a b
</span><span class="hs-identifier hs-var">Coyoneda</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; x
</span><a href="#local-6989586621679158444"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; x) -&gt; (a' -&gt; x) -&gt; Either a a' -&gt; Either x x
forall a b a' b'.
(a -&gt; b) -&gt; (a' -&gt; b') -&gt; Either a a' -&gt; Either b b'
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">a' -&gt; x
</span><a href="#local-6989586621679158451"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">y -&gt; b
</span><a href="#local-6989586621679158445"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">(y -&gt; b) -&gt; (y -&gt; b') -&gt; Either y y -&gt; Either b b'
forall a b a' b'.
(a -&gt; b) -&gt; (a' -&gt; b') -&gt; Either a a' -&gt; Either b b'
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">y -&gt; b'
</span><a href="#local-6989586621679158452"><span class="hs-identifier hs-var">r2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p x y
</span><a href="#local-6989586621679158446"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p x y -&gt; p x y -&gt; p (Either x x) (Either y y)
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cocartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">p x y
</span><a href="#local-6989586621679158453"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-comment">--</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-keyword">newtype</span><span> </span><span id="Power"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-var">Power</span></a></span></span><span> </span><span id="local-6989586621679157206"><span class="annot"><a href="#local-6989586621679157206"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679157207"><span class="annot"><a href="#local-6989586621679157207"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679157208"><span class="annot"><a href="#local-6989586621679157208"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Power"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-var">Power</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runPower"><span class="annot"><span class="annottext">forall (p :: * -&gt; * -&gt; *) a b.
Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
</span><a href="Data.Profunctor.Cartesian.html#runPower"><span class="hs-identifier hs-var hs-var">runPower</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679157204"><span class="annot"><a href="#local-6989586621679157204"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679157205"><span class="annot"><a href="#local-6989586621679157205"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679157206"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157204"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157205"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157206"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157208"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157204"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157207"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157205"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157632"><span id="local-6989586621679158458"><span id="local-6989586621679158462"><span id="local-6989586621679158465"><span id="local-6989586621679158471"><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679157632"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-type">Power</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157632"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621679158477"><span class="annot"><span class="annottext">dimap :: forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; Power p b c -&gt; Power p a d
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">dimap</span></span></span><span> </span><span id="local-6989586621679158478"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679158478"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679158479"><span class="annot"><span class="annottext">c -&gt; d
</span><a href="#local-6989586621679158479"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-type">Power</span></a></span><span> </span><span id="local-6989586621679158480"><span class="annot"><span class="annottext">forall s t. p s t -&gt; p (c -&gt; s) (b -&gt; t)
</span><a href="#local-6989586621679158480"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p (d -&gt; s) (a -&gt; t)) -&gt; Power p a d
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)) -&gt; Power p a b
</span><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-var">Power</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((d -&gt; s) -&gt; c -&gt; s)
-&gt; ((b -&gt; t) -&gt; a -&gt; t)
-&gt; p (c -&gt; s) (b -&gt; t)
-&gt; p (d -&gt; s) (a -&gt; t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(d -&gt; s) -&gt; (c -&gt; d) -&gt; c -&gt; s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; d
</span><a href="#local-6989586621679158479"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; t) -&gt; (a -&gt; b) -&gt; a -&gt; t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679158478"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(p (c -&gt; s) (b -&gt; t) -&gt; p (d -&gt; s) (a -&gt; t))
-&gt; (p s t -&gt; p (c -&gt; s) (b -&gt; t)) -&gt; p s t -&gt; p (d -&gt; s) (a -&gt; t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">p s t -&gt; p (c -&gt; s) (b -&gt; t)
forall s t. p s t -&gt; p (c -&gt; s) (b -&gt; t)
</span><a href="#local-6989586621679158480"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157200"><span id="local-6989586621679158487"><span id="local-6989586621679158491"><span id="local-6989586621679158494"><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679157200"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-type">Power</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157200"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-233"></span><span>    </span><span id="local-6989586621679158498"><span class="annot"><span class="annottext">proUnit :: forall a. Power p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p (() -&gt; s) (a -&gt; t)) -&gt; Power p a ()
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)) -&gt; Power p a b
</span><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-var">Power</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p (() -&gt; s) (a -&gt; t)) -&gt; Power p a ())
-&gt; (forall s t. p s t -&gt; p (() -&gt; s) (a -&gt; t)) -&gt; Power p a ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((() -&gt; s) -&gt; s) -&gt; (t -&gt; a -&gt; t) -&gt; p s t -&gt; p (() -&gt; s) (a -&gt; t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(() -&gt; s) -&gt; () -&gt; s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t -&gt; a -&gt; t
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span>
</span><span id="line-234"></span><span>    </span><span id="local-6989586621679158500"><span class="annot"><span class="annottext">Power p a b
</span><a href="#local-6989586621679158500"><span class="hs-identifier hs-var">ep</span></a></span></span><span> </span><span id="local-6989586621679158501"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Power p a b -&gt; Power p a' b' -&gt; Power p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span id="local-6989586621679158502"><span class="annot"><span class="annottext">Power p a' b'
</span><a href="#local-6989586621679158502"><span class="hs-identifier hs-var">eq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p ((b, b') -&gt; s) ((a, a') -&gt; t))
-&gt; Power p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)) -&gt; Power p a b
</span><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-var">Power</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p ((b, b') -&gt; s) ((a, a') -&gt; t))
 -&gt; Power p (a, a') (b, b'))
-&gt; (forall s t. p s t -&gt; p ((b, b') -&gt; s) ((a, a') -&gt; t))
-&gt; Power p (a, a') (b, b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679158504"><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158504"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(((b, b') -&gt; s) -&gt; b -&gt; b' -&gt; s)
-&gt; ((a -&gt; a' -&gt; t) -&gt; (a, a') -&gt; t)
-&gt; p (b -&gt; b' -&gt; s) (a -&gt; a' -&gt; t)
-&gt; p ((b, b') -&gt; s) ((a, a') -&gt; t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">((b, b') -&gt; s) -&gt; b -&gt; b' -&gt; s
forall a b c. ((a, b) -&gt; c) -&gt; a -&gt; b -&gt; c
</span><span class="hs-identifier hs-var">curry</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a' -&gt; t) -&gt; (a, a') -&gt; t
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">(p (b -&gt; b' -&gt; s) (a -&gt; a' -&gt; t)
 -&gt; p ((b, b') -&gt; s) ((a, a') -&gt; t))
-&gt; p (b -&gt; b' -&gt; s) (a -&gt; a' -&gt; t)
-&gt; p ((b, b') -&gt; s) ((a, a') -&gt; t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
forall (p :: * -&gt; * -&gt; *) a b.
Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
</span><a href="Data.Profunctor.Cartesian.html#runPower"><span class="hs-identifier hs-var">runPower</span></a></span><span> </span><span class="annot"><span class="annottext">Power p a b
</span><a href="#local-6989586621679158500"><span class="hs-identifier hs-var">ep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Power p a' b' -&gt; forall s t. p s t -&gt; p (b' -&gt; s) (a' -&gt; t)
forall (p :: * -&gt; * -&gt; *) a b.
Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
</span><a href="Data.Profunctor.Cartesian.html#runPower"><span class="hs-identifier hs-var">runPower</span></a></span><span> </span><span class="annot"><span class="annottext">Power p a' b'
</span><a href="#local-6989586621679158502"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158504"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157201"><span id="local-6989586621679158512"><span id="local-6989586621679158516"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157201"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-type">Power</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157201"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>    </span><span id="local-6989586621679158519"><span class="annot"><span class="annottext">proEmpty :: forall b. Power p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p (b -&gt; s) (Void -&gt; t)) -&gt; Power p Void b
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)) -&gt; Power p a b
</span><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-var">Power</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p (b -&gt; s) (Void -&gt; t)) -&gt; Power p Void b)
-&gt; (forall s t. p s t -&gt; p (b -&gt; s) (Void -&gt; t)) -&gt; Power p Void b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">p s t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((b -&gt; s) -&gt; b -&gt; s)
-&gt; (() -&gt; Void -&gt; t) -&gt; p (b -&gt; s) () -&gt; p (b -&gt; s) (Void -&gt; t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; s) -&gt; b -&gt; s
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Void -&gt; t) -&gt; () -&gt; Void -&gt; t
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Void -&gt; t
forall b. Void -&gt; b
</span><span class="hs-identifier hs-var">absurd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p (b -&gt; s) ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span id="local-6989586621679158522"><span class="annot"><span class="annottext">Power p a b
</span><a href="#local-6989586621679158522"><span class="hs-identifier hs-var">ep</span></a></span></span><span> </span><span id="local-6989586621679158523"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Power p a b -&gt; Power p a' b' -&gt; Power p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span id="local-6989586621679158524"><span class="annot"><span class="annottext">Power p a' b'
</span><a href="#local-6989586621679158524"><span class="hs-identifier hs-var">eq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p (Either b b' -&gt; s) (Either a a' -&gt; t))
-&gt; Power p (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)) -&gt; Power p a b
</span><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-var">Power</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p (Either b b' -&gt; s) (Either a a' -&gt; t))
 -&gt; Power p (Either a a') (Either b b'))
-&gt; (forall s t. p s t -&gt; p (Either b b' -&gt; s) (Either a a' -&gt; t))
-&gt; Power p (Either a a') (Either b b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679158526"><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158526"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((Either b b' -&gt; s) -&gt; (b -&gt; s, b' -&gt; s))
-&gt; ((a -&gt; t, a' -&gt; t) -&gt; Either a a' -&gt; t)
-&gt; p (b -&gt; s) (a -&gt; t)
-&gt; p (b' -&gt; s) (a' -&gt; t)
-&gt; p (Either b b' -&gt; s) (Either a a' -&gt; t)
forall a a1 a2 b1 b2 b.
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cartesian p =&gt;
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-identifier hs-var">proProduct</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679158527"><span class="annot"><span class="annottext">Either b b' -&gt; s
</span><a href="#local-6989586621679158527"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either b b' -&gt; s
</span><a href="#local-6989586621679158527"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either b b' -&gt; s) -&gt; (b -&gt; Either b b') -&gt; b -&gt; s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either b b'
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Either b b' -&gt; s
</span><a href="#local-6989586621679158527"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either b b' -&gt; s) -&gt; (b' -&gt; Either b b') -&gt; b' -&gt; s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b' -&gt; Either b b'
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((a -&gt; t) -&gt; (a' -&gt; t) -&gt; Either a a' -&gt; t)
-&gt; (a -&gt; t, a' -&gt; t) -&gt; Either a a' -&gt; t
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; t) -&gt; (a' -&gt; t) -&gt; Either a a' -&gt; t
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
forall (p :: * -&gt; * -&gt; *) a b.
Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
</span><a href="Data.Profunctor.Cartesian.html#runPower"><span class="hs-identifier hs-var">runPower</span></a></span><span> </span><span class="annot"><span class="annottext">Power p a b
</span><a href="#local-6989586621679158522"><span class="hs-identifier hs-var">ep</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158526"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Power p a' b' -&gt; forall s t. p s t -&gt; p (b' -&gt; s) (a' -&gt; t)
forall (p :: * -&gt; * -&gt; *) a b.
Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
</span><a href="Data.Profunctor.Cartesian.html#runPower"><span class="hs-identifier hs-var">runPower</span></a></span><span> </span><span class="annot"><span class="annottext">Power p a' b'
</span><a href="#local-6989586621679158524"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158526"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>    </span><span id="local-6989586621679158529"><span class="annot"><span class="annottext">proTimes :: forall (n :: Nat) a b.
KnownNat n =&gt;
Power p a b -&gt; Power p (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var hs-var hs-var hs-var">proTimes</span></a></span></span><span> </span><span id="local-6989586621679158530"><span class="annot"><span class="annottext">Power p a b
</span><a href="#local-6989586621679158530"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p ((Finite n, b) -&gt; s) ((Finite n, a) -&gt; t))
-&gt; Power p (Finite n, a) (Finite n, b)
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)) -&gt; Power p a b
</span><a href="Data.Profunctor.Cartesian.html#Power"><span class="hs-identifier hs-var">Power</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p ((Finite n, b) -&gt; s) ((Finite n, a) -&gt; t))
 -&gt; Power p (Finite n, a) (Finite n, b))
-&gt; (forall s t.
    p s t -&gt; p ((Finite n, b) -&gt; s) ((Finite n, a) -&gt; t))
-&gt; Power p (Finite n, a) (Finite n, b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679158534"><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158534"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(((Finite n, b) -&gt; s) -&gt; Finite n -&gt; b -&gt; s)
-&gt; ((Finite n -&gt; a -&gt; t) -&gt; (Finite n, a) -&gt; t)
-&gt; p (Finite n -&gt; b -&gt; s) (Finite n -&gt; a -&gt; t)
-&gt; p ((Finite n, b) -&gt; s) ((Finite n, a) -&gt; t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">((Finite n, b) -&gt; s) -&gt; Finite n -&gt; b -&gt; s
forall a b c. ((a, b) -&gt; c) -&gt; a -&gt; b -&gt; c
</span><span class="hs-identifier hs-var">curry</span></span><span> </span><span class="annot"><span class="annottext">(Finite n -&gt; a -&gt; t) -&gt; (Finite n, a) -&gt; t
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">(p (Finite n -&gt; b -&gt; s) (Finite n -&gt; a -&gt; t)
 -&gt; p ((Finite n, b) -&gt; s) ((Finite n, a) -&gt; t))
-&gt; p (Finite n -&gt; b -&gt; s) (Finite n -&gt; a -&gt; t)
-&gt; p ((Finite n, b) -&gt; s) ((Finite n, a) -&gt; t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">p (b -&gt; s) (a -&gt; t) -&gt; p (Finite n -&gt; b -&gt; s) (Finite n -&gt; a -&gt; t)
forall (n :: Nat) a b.
KnownNat n =&gt;
p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n -&gt; a) (Finite n -&gt; b)
</span><a href="Data.Profunctor.Cartesian.html#proPower"><span class="hs-identifier hs-var">proPower</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
forall (p :: * -&gt; * -&gt; *) a b.
Power p a b -&gt; forall s t. p s t -&gt; p (b -&gt; s) (a -&gt; t)
</span><a href="Data.Profunctor.Cartesian.html#runPower"><span class="hs-identifier hs-var">runPower</span></a></span><span> </span><span class="annot"><span class="annottext">Power p a b
</span><a href="#local-6989586621679158530"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158534"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-comment">--</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-keyword">newtype</span><span> </span><span id="Copower"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-var">Copower</span></a></span></span><span> </span><span id="local-6989586621679157483"><span class="annot"><a href="#local-6989586621679157483"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679157484"><span class="annot"><a href="#local-6989586621679157484"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679157485"><span class="annot"><a href="#local-6989586621679157485"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Copower"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-var">Copower</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runCopower"><span class="annot"><span class="annottext">forall (p :: * -&gt; * -&gt; *) a b.
Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
</span><a href="Data.Profunctor.Cartesian.html#runCopower"><span class="hs-identifier hs-var hs-var">runCopower</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679157481"><span class="annot"><a href="#local-6989586621679157481"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679157482"><span class="annot"><a href="#local-6989586621679157482"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679157483"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157481"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157482"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157483"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157484"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679157481"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157485"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679157482"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157678"><span id="local-6989586621679158539"><span id="local-6989586621679158543"><span id="local-6989586621679158546"><span id="local-6989586621679158552"><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679157678"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-type">Copower</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157678"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-246"></span><span>  </span><span id="local-6989586621679158557"><span class="annot"><span class="annottext">dimap :: forall a b c d.
(a -&gt; b) -&gt; (c -&gt; d) -&gt; Copower p b c -&gt; Copower p a d
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">dimap</span></span></span><span> </span><span id="local-6989586621679158558"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679158558"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679158559"><span class="annot"><span class="annottext">c -&gt; d
</span><a href="#local-6989586621679158559"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-type">Copower</span></a></span><span> </span><span id="local-6989586621679158560"><span class="annot"><span class="annottext">forall s t. p s t -&gt; p (b, s) (c, t)
</span><a href="#local-6989586621679158560"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p (a, s) (d, t)) -&gt; Copower p a d
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (a, s) (b, t)) -&gt; Copower p a b
</span><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-var">Copower</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p (a, s) (d, t)) -&gt; Copower p a d)
-&gt; (forall s t. p s t -&gt; p (a, s) (d, t)) -&gt; Copower p a d
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679158564"><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158564"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((a, s) -&gt; (b, s))
-&gt; ((c, t) -&gt; (d, t)) -&gt; p (b, s) (c, t) -&gt; p (a, s) (d, t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (a, s) -&gt; (b, s)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679158558"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(c -&gt; d) -&gt; (c, t) -&gt; (d, t)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; d
</span><a href="#local-6989586621679158559"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p s t -&gt; p (b, s) (c, t)
forall s t. p s t -&gt; p (b, s) (c, t)
</span><a href="#local-6989586621679158560"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158564"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157477"><span id="local-6989586621679158571"><span id="local-6989586621679158575"><span id="local-6989586621679158578"><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679157477"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-type">Copower</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157477"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-249"></span><span>  </span><span id="local-6989586621679158582"><span class="annot"><span class="annottext">proUnit :: forall a. Copower p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var hs-var hs-var hs-var">proUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p (a, s) ((), t)) -&gt; Copower p a ()
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (a, s) (b, t)) -&gt; Copower p a b
</span><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-var">Copower</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p (a, s) ((), t)) -&gt; Copower p a ())
-&gt; (forall s t. p s t -&gt; p (a, s) ((), t)) -&gt; Copower p a ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679158584"><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158584"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((a, s) -&gt; s) -&gt; (t -&gt; ((), t)) -&gt; p s t -&gt; p (a, s) ((), t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">(a, s) -&gt; s
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158584"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621679158585"><span class="annot"><span class="annottext">Copower p a b
</span><a href="#local-6989586621679158585"><span class="hs-identifier hs-var">cp</span></a></span></span><span> </span><span id="local-6989586621679158586"><span class="annot"><span class="annottext">*** :: forall a b a' b'.
Copower p a b -&gt; Copower p a' b' -&gt; Copower p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">***</span></a></span></span><span> </span><span id="local-6989586621679158587"><span class="annot"><span class="annottext">Copower p a' b'
</span><a href="#local-6989586621679158587"><span class="hs-identifier hs-var">cq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p ((a, a'), s) ((b, b'), t))
-&gt; Copower p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (a, s) (b, t)) -&gt; Copower p a b
</span><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-var">Copower</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p ((a, a'), s) ((b, b'), t))
 -&gt; Copower p (a, a') (b, b'))
-&gt; (forall s t. p s t -&gt; p ((a, a'), s) ((b, b'), t))
-&gt; Copower p (a, a') (b, b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679158589"><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158589"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(((a, a'), s) -&gt; (a, (a', s)))
-&gt; ((b, (b', t)) -&gt; ((b, b'), t))
-&gt; p (a, (a', s)) (b, (b', t))
-&gt; p ((a, a'), s) ((b, b'), t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">((a, a'), s) -&gt; (a, (a', s))
forall a1 a2 b. ((a1, a2), b) -&gt; (a1, (a2, b))
</span><a href="Data.Profunctor.Cartesian.html#assoc"><span class="hs-identifier hs-var">assoc</span></a></span><span> </span><span class="annot"><span class="annottext">(b, (b', t)) -&gt; ((b, b'), t)
forall a b1 b2. (a, (b1, b2)) -&gt; ((a, b1), b2)
</span><a href="Data.Profunctor.Cartesian.html#unassoc"><span class="hs-identifier hs-var">unassoc</span></a></span><span> </span><span class="annot"><span class="annottext">(p (a, (a', s)) (b, (b', t)) -&gt; p ((a, a'), s) ((b, b'), t))
-&gt; p (a, (a', s)) (b, (b', t)) -&gt; p ((a, a'), s) ((b, b'), t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
forall (p :: * -&gt; * -&gt; *) a b.
Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
</span><a href="Data.Profunctor.Cartesian.html#runCopower"><span class="hs-identifier hs-var">runCopower</span></a></span><span> </span><span class="annot"><span class="annottext">Copower p a b
</span><a href="#local-6989586621679158585"><span class="hs-identifier hs-var">cp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Copower p a' b' -&gt; forall s t. p s t -&gt; p (a', s) (b', t)
forall (p :: * -&gt; * -&gt; *) a b.
Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
</span><a href="Data.Profunctor.Cartesian.html#runCopower"><span class="hs-identifier hs-var">runCopower</span></a></span><span> </span><span class="annot"><span class="annottext">Copower p a' b'
</span><a href="#local-6989586621679158587"><span class="hs-identifier hs-var">cq</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158589"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span id="local-6989586621679157699"><span id="local-6989586621679157700"><span id="local-6989586621679157701"><span class="annot"><a href="Data.Profunctor.Cartesian.html#assoc"><span class="hs-identifier hs-type">assoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157699"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157700"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157701"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157699"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157700"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157701"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-253"></span><span id="assoc"><span class="annot"><span class="annottext">assoc :: forall a1 a2 b. ((a1, a2), b) -&gt; (a1, (a2, b))
</span><a href="Data.Profunctor.Cartesian.html#assoc"><span class="hs-identifier hs-var hs-var">assoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679158592"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679158592"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679158593"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679158593"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span id="local-6989586621679158594"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158594"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679158592"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679158593"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158594"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span id="local-6989586621679157702"><span id="local-6989586621679157703"><span id="local-6989586621679157704"><span class="annot"><a href="Data.Profunctor.Cartesian.html#unassoc"><span class="hs-identifier hs-type">unassoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157702"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157703"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157704"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679157702"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157703"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679157704"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-255"></span><span id="unassoc"><span class="annot"><span class="annottext">unassoc :: forall a b1 b2. (a, (b1, b2)) -&gt; ((a, b1), b2)
</span><a href="Data.Profunctor.Cartesian.html#unassoc"><span class="hs-identifier hs-var hs-var">unassoc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679158595"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158595"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span class="hs-special">(</span><span id="local-6989586621679158596"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679158596"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679158597"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679158597"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158595"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679158596"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679158597"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679157478"><span id="local-6989586621679158604"><span id="local-6989586621679158608"><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157478"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-type">Copower</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157478"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-258"></span><span>  </span><span id="local-6989586621679158611"><span class="annot"><span class="annottext">proEmpty :: forall b. Copower p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var hs-var hs-var hs-var">proEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p (Void, s) (b, t)) -&gt; Copower p Void b
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (a, s) (b, t)) -&gt; Copower p a b
</span><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-var">Copower</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p (Void, s) (b, t)) -&gt; Copower p Void b)
-&gt; (forall s t. p s t -&gt; p (Void, s) (b, t)) -&gt; Copower p Void b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">p s t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((Void, s) -&gt; Void)
-&gt; (Void -&gt; (b, t)) -&gt; p Void Void -&gt; p (Void, s) (b, t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">(Void, s) -&gt; Void
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">Void -&gt; (b, t)
forall b. Void -&gt; b
</span><span class="hs-identifier hs-var">absurd</span></span><span> </span><span class="annot"><span class="annottext">p Void Void
forall b. p Void b
forall (p :: * -&gt; * -&gt; *) b. Cocartesian p =&gt; p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var">proEmpty</span></a></span><span>
</span><span id="line-259"></span><span>  </span><span id="local-6989586621679158614"><span class="annot"><span class="annottext">Copower p a b
</span><a href="#local-6989586621679158614"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679158615"><span class="annot"><span class="annottext">+++ :: forall a b a' b'.
Copower p a b
-&gt; Copower p a' b' -&gt; Copower p (Either a a') (Either b b')
</span><a href="Data.Profunctor.Cartesian.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">+++</span></a></span></span><span> </span><span id="local-6989586621679158616"><span class="annot"><span class="annottext">Copower p a' b'
</span><a href="#local-6989586621679158616"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p (Either a a', s) (Either b b', t))
-&gt; Copower p (Either a a') (Either b b')
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (a, s) (b, t)) -&gt; Copower p a b
</span><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-var">Copower</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p (Either a a', s) (Either b b', t))
 -&gt; Copower p (Either a a') (Either b b'))
-&gt; (forall s t. p s t -&gt; p (Either a a', s) (Either b b', t))
-&gt; Copower p (Either a a') (Either b b')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679158619"><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158619"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((Either a a', s) -&gt; Either (a, s) (a', s))
-&gt; (Either (b, t) (b', t) -&gt; (Either b b', t))
-&gt; p (a, s) (b, t)
-&gt; p (a', s) (b', t)
-&gt; p (Either a a', s) (Either b b', t)
forall a a1 a2 b1 b2 b.
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cocartesian p =&gt;
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proSum"><span class="hs-identifier hs-var">proSum</span></a></span><span> </span><span class="annot"><span class="annottext">(Either a a', s) -&gt; Either (a, s) (a', s)
forall {p :: * -&gt; * -&gt; *} {a} {c} {t}.
Bifunctor p =&gt;
(p a c, t) -&gt; p (a, t) (c, t)
</span><a href="#local-6989586621679158620"><span class="hs-identifier hs-var">distrib</span></a></span><span> </span><span class="annot"><span class="annottext">Either (b, t) (b', t) -&gt; (Either b b', t)
forall {a} {c} {b}. Either (a, c) (b, c) -&gt; (Either a b, c)
</span><a href="#local-6989586621679158621"><span class="hs-identifier hs-var">undistrib</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
forall (p :: * -&gt; * -&gt; *) a b.
Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
</span><a href="Data.Profunctor.Cartesian.html#runCopower"><span class="hs-identifier hs-var">runCopower</span></a></span><span> </span><span class="annot"><span class="annottext">Copower p a b
</span><a href="#local-6989586621679158614"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158619"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Copower p a' b' -&gt; forall s t. p s t -&gt; p (a', s) (b', t)
forall (p :: * -&gt; * -&gt; *) a b.
Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
</span><a href="Data.Profunctor.Cartesian.html#runCopower"><span class="hs-identifier hs-var">runCopower</span></a></span><span> </span><span class="annot"><span class="annottext">Copower p a' b'
</span><a href="#local-6989586621679158616"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158619"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-261"></span><span>      </span><span id="local-6989586621679158620"><span class="annot"><span class="annottext">distrib :: (p a c, t) -&gt; p (a, t) (c, t)
</span><a href="#local-6989586621679158620"><span class="hs-identifier hs-var hs-var">distrib</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679158627"><span class="annot"><span class="annottext">p a c
</span><a href="#local-6989586621679158627"><span class="hs-identifier hs-var">ab</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679158628"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679158628"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; (a, t)) -&gt; (c -&gt; (c, t)) -&gt; p a c -&gt; p (a, t) (c, t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><span class="hs-identifier hs-var">bimap</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679158628"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679158628"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p a c
</span><a href="#local-6989586621679158627"><span class="hs-identifier hs-var">ab</span></a></span><span>
</span><span id="line-262"></span><span>      </span><span id="local-6989586621679158621"><span class="annot"><span class="annottext">undistrib :: Either (a, c) (b, c) -&gt; (Either a b, c)
</span><a href="#local-6989586621679158621"><span class="hs-identifier hs-var hs-var">undistrib</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, c) -&gt; (Either a b, c))
-&gt; ((b, c) -&gt; (Either a b, c))
-&gt; Either (a, c) (b, c)
-&gt; (Either a b, c)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; (a, c) -&gt; (Either a b, c)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; (b, c) -&gt; (Either a b, c)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621679158633"><span class="annot"><span class="annottext">proTimes :: forall (n :: Nat) a b.
KnownNat n =&gt;
Copower p a b -&gt; Copower p (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var hs-var hs-var hs-var">proTimes</span></a></span></span><span> </span><span id="local-6989586621679158634"><span class="annot"><span class="annottext">Copower p a b
</span><a href="#local-6989586621679158634"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s t. p s t -&gt; p ((Finite n, a), s) ((Finite n, b), t))
-&gt; Copower p (Finite n, a) (Finite n, b)
forall (p :: * -&gt; * -&gt; *) a b.
(forall s t. p s t -&gt; p (a, s) (b, t)) -&gt; Copower p a b
</span><a href="Data.Profunctor.Cartesian.html#Copower"><span class="hs-identifier hs-var">Copower</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s t. p s t -&gt; p ((Finite n, a), s) ((Finite n, b), t))
 -&gt; Copower p (Finite n, a) (Finite n, b))
-&gt; (forall s t. p s t -&gt; p ((Finite n, a), s) ((Finite n, b), t))
-&gt; Copower p (Finite n, a) (Finite n, b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679158638"><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158638"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(((Finite n, a), s) -&gt; (Finite n, (a, s)))
-&gt; ((Finite n, (b, t)) -&gt; ((Finite n, b), t))
-&gt; p (Finite n, (a, s)) (Finite n, (b, t))
-&gt; p ((Finite n, a), s) ((Finite n, b), t)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">((Finite n, a), s) -&gt; (Finite n, (a, s))
forall a1 a2 b. ((a1, a2), b) -&gt; (a1, (a2, b))
</span><a href="Data.Profunctor.Cartesian.html#assoc"><span class="hs-identifier hs-var">assoc</span></a></span><span> </span><span class="annot"><span class="annottext">(Finite n, (b, t)) -&gt; ((Finite n, b), t)
forall a b1 b2. (a, (b1, b2)) -&gt; ((a, b1), b2)
</span><a href="Data.Profunctor.Cartesian.html#unassoc"><span class="hs-identifier hs-var">unassoc</span></a></span><span> </span><span class="annot"><span class="annottext">(p (Finite n, (a, s)) (Finite n, (b, t))
 -&gt; p ((Finite n, a), s) ((Finite n, b), t))
-&gt; p (Finite n, (a, s)) (Finite n, (b, t))
-&gt; p ((Finite n, a), s) ((Finite n, b), t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">p (a, s) (b, t) -&gt; p (Finite n, (a, s)) (Finite n, (b, t))
forall (n :: Nat) a b.
KnownNat n =&gt;
p a b -&gt; p (Finite n, a) (Finite n, b)
forall (p :: * -&gt; * -&gt; *) (n :: Nat) a b.
(Cocartesian p, KnownNat n) =&gt;
p a b -&gt; p (Finite n, a) (Finite n, b)
</span><a href="Data.Profunctor.Cartesian.html#proTimes"><span class="hs-identifier hs-var">proTimes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
forall (p :: * -&gt; * -&gt; *) a b.
Copower p a b -&gt; forall s t. p s t -&gt; p (a, s) (b, t)
</span><a href="Data.Profunctor.Cartesian.html#runCopower"><span class="hs-identifier hs-var">runCopower</span></a></span><span> </span><span class="annot"><span class="annottext">Copower p a b
</span><a href="#local-6989586621679158634"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">p s t
</span><a href="#local-6989586621679158638"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="hs-comment">--</span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="annot"><a href="Data.Profunctor.Cartesian.html#describeFinite"><span class="hs-identifier hs-type">describeFinite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679157209"><span class="annot"><a href="#local-6989586621679157209"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span id="local-6989586621679157210"><span class="annot"><a href="#local-6989586621679157210"><span class="hs-identifier hs-type">p</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679157209"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157210"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157210"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157210"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Finite</span></span><span> </span><span class="annot"><a href="#local-6989586621679157209"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Finite</span></span><span> </span><span class="annot"><a href="#local-6989586621679157209"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span id="describeFinite"><span class="annot"><span class="annottext">describeFinite :: forall (n :: Nat) (p :: * -&gt; * -&gt; *).
(KnownNat n, Cartesian p, Cocartesian p) =&gt;
p (Finite n) (Finite n)
</span><a href="Data.Profunctor.Cartesian.html#describeFinite"><span class="hs-identifier hs-var hs-var">describeFinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Finite n -&gt; Nat)
-&gt; (Nat -&gt; Finite n) -&gt; p Nat Nat -&gt; p (Finite n) (Finite n)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Nat
forall {n :: Nat}. Finite n -&gt; Nat
</span><a href="#local-6989586621679158649"><span class="hs-identifier hs-var">finiteToNatural</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Finite n
forall {n :: Nat}. Nat -&gt; Finite n
</span><a href="#local-6989586621679158650"><span class="hs-identifier hs-var">unsafeNaturalToFinite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; p Nat Nat
forall (p :: * -&gt; * -&gt; *).
(Cartesian p, Cocartesian p) =&gt;
Nat -&gt; p Nat Nat
</span><a href="Data.Profunctor.Cartesian.html#dNatural"><span class="hs-identifier hs-var">dNatural</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (n :: Nat) (proxy :: Nat -&gt; *). KnownNat n =&gt; proxy n -&gt; Nat
</span><span class="hs-identifier hs-var">natVal</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679157209"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="annottext">Any n
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>    </span><span id="local-6989586621679158649"><span class="annot"><span class="annottext">finiteToNatural :: Finite n -&gt; Nat
</span><a href="#local-6989586621679158649"><span class="hs-identifier hs-var hs-var">finiteToNatural</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Nat
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Nat) -&gt; (Finite n -&gt; Integer) -&gt; Finite n -&gt; Nat
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Integer
forall (n :: Nat). Finite n -&gt; Integer
</span><span class="hs-identifier hs-var">getFinite</span></span><span>
</span><span id="line-271"></span><span>    </span><span id="local-6989586621679158650"><span class="annot"><span class="annottext">unsafeNaturalToFinite :: Nat -&gt; Finite n
</span><a href="#local-6989586621679158650"><span class="hs-identifier hs-var hs-var">unsafeNaturalToFinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Finite n
forall (n :: Nat). Integer -&gt; Finite n
</span><span class="hs-identifier hs-var">Unsafe.Finite</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Finite n) -&gt; (Nat -&gt; Integer) -&gt; Nat -&gt; Finite n
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span id="local-6989586621679157739"><span class="annot"><a href="Data.Profunctor.Cartesian.html#dNatural"><span class="hs-identifier hs-type">dNatural</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157739"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157739"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157739"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span></span><span>
</span><span id="line-274"></span><span id="dNatural"><span class="annot"><span class="annottext">dNatural :: forall (p :: * -&gt; * -&gt; *).
(Cartesian p, Cocartesian p) =&gt;
Nat -&gt; p Nat Nat
</span><a href="Data.Profunctor.Cartesian.html#dNatural"><span class="hs-identifier hs-var hs-var">dNatural</span></a></span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Void) -&gt; (Void -&gt; Nat) -&gt; p Void Void -&gt; p Nat Nat
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Nat -&gt; Void
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;here no value should come&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Void -&gt; Nat
forall b. Void -&gt; b
</span><span class="hs-identifier hs-var">absurd</span></span><span> </span><span class="annot"><span class="annottext">p Void Void
forall b. p Void b
forall (p :: * -&gt; * -&gt; *) b. Cocartesian p =&gt; p Void b
</span><a href="Data.Profunctor.Cartesian.html#proEmpty"><span class="hs-identifier hs-var">proEmpty</span></a></span><span>
</span><span id="line-275"></span><span class="annot"><a href="Data.Profunctor.Cartesian.html#dNatural"><span class="hs-identifier hs-var">dNatural</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; ()) -&gt; (() -&gt; Nat) -&gt; p () () -&gt; p Nat Nat
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Nat -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; () -&gt; Nat
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p () ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span>
</span><span id="line-276"></span><span class="annot"><a href="Data.Profunctor.Cartesian.html#dNatural"><span class="hs-identifier hs-var">dNatural</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p Nat Nat
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
p a a
</span><a href="Data.Profunctor.Cartesian.html#dBit"><span class="hs-identifier hs-var">dBit</span></a></span><span>
</span><span id="line-277"></span><span class="annot"><a href="Data.Profunctor.Cartesian.html#dNatural"><span class="hs-identifier hs-var">dNatural</span></a></span><span> </span><span id="local-6989586621679158714"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621679158714"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621679158714"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; (Nat, Nat)
forall a. Integral a =&gt; a -&gt; a -&gt; (a, a)
</span><span class="hs-operator hs-var">`divMod`</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679158716"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621679158716"><span class="hs-identifier hs-var">n'</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; (Nat, Nat))
-&gt; ((Nat, Nat) -&gt; Nat) -&gt; p Nat Nat -&gt; p Nat Nat -&gt; p Nat Nat
forall a a1 a2 b1 b2 b.
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cartesian p =&gt;
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-identifier hs-var">proProduct</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; (Nat, Nat)
forall {a}. Integral a =&gt; a -&gt; (a, a)
</span><a href="#local-6989586621679158717"><span class="hs-identifier hs-var">div2</span></a></span><span> </span><span class="annot"><span class="annottext">(Nat, Nat) -&gt; Nat
forall {a}. Num a =&gt; (a, a) -&gt; a
</span><a href="#local-6989586621679158718"><span class="hs-identifier hs-var">undiv2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; p Nat Nat
forall (p :: * -&gt; * -&gt; *).
(Cartesian p, Cocartesian p) =&gt;
Nat -&gt; p Nat Nat
</span><a href="Data.Profunctor.Cartesian.html#dNatural"><span class="hs-identifier hs-var">dNatural</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621679158716"><span class="hs-identifier hs-var">n'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p Nat Nat
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
p a a
</span><a href="Data.Profunctor.Cartesian.html#dBit"><span class="hs-identifier hs-var">dBit</span></a></span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679158719"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621679158719"><span class="hs-identifier hs-var">n'</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Either () Nat)
-&gt; (Either () Nat -&gt; Nat) -&gt; p () () -&gt; p Nat Nat -&gt; p Nat Nat
forall a a1 a2 b1 b2 b.
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cocartesian p =&gt;
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proSum"><span class="hs-identifier hs-var">proSum</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Either () Nat
forall {b}. (Eq b, Num b, Enum b) =&gt; b -&gt; Either () b
</span><a href="#local-6989586621679158720"><span class="hs-identifier hs-var">unshiftNat</span></a></span><span> </span><span class="annot"><span class="annottext">Either () Nat -&gt; Nat
forall {a}. Either a Nat -&gt; Nat
</span><a href="#local-6989586621679158721"><span class="hs-identifier hs-var">shiftNat</span></a></span><span> </span><span class="annot"><span class="annottext">p () ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Nat -&gt; (Nat, Nat))
-&gt; ((Nat, Nat) -&gt; Nat) -&gt; p Nat Nat -&gt; p Nat Nat -&gt; p Nat Nat
forall a a1 a2 b1 b2 b.
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cartesian p =&gt;
(a -&gt; (a1, a2)) -&gt; ((b1, b2) -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proProduct"><span class="hs-identifier hs-var">proProduct</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; (Nat, Nat)
forall {a}. Integral a =&gt; a -&gt; (a, a)
</span><a href="#local-6989586621679158717"><span class="hs-identifier hs-var">div2</span></a></span><span> </span><span class="annot"><span class="annottext">(Nat, Nat) -&gt; Nat
forall {a}. Num a =&gt; (a, a) -&gt; a
</span><a href="#local-6989586621679158718"><span class="hs-identifier hs-var">undiv2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; p Nat Nat
forall (p :: * -&gt; * -&gt; *).
(Cartesian p, Cocartesian p) =&gt;
Nat -&gt; p Nat Nat
</span><a href="Data.Profunctor.Cartesian.html#dNatural"><span class="hs-identifier hs-var">dNatural</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621679158719"><span class="hs-identifier hs-var">n'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p Nat Nat
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
p a a
</span><a href="Data.Profunctor.Cartesian.html#dBit"><span class="hs-identifier hs-var">dBit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679158717"><span class="annot"><span class="annottext">div2 :: a -&gt; (a, a)
</span><a href="#local-6989586621679158717"><span class="hs-identifier hs-var hs-var">div2</span></a></span></span><span> </span><span id="local-6989586621679158740"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158740"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158740"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; (a, a)
forall a. Integral a =&gt; a -&gt; a -&gt; (a, a)
</span><span class="hs-operator hs-var">`divMod`</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">2</span></span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621679158718"><span class="annot"><span class="annottext">undiv2 :: (a, a) -&gt; a
</span><a href="#local-6989586621679158718"><span class="hs-identifier hs-var hs-var">undiv2</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679158745"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158745"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679158746"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158746"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158745"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158746"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-283"></span><span>    </span><span id="local-6989586621679158720"><span class="annot"><span class="annottext">unshiftNat :: b -&gt; Either () b
</span><a href="#local-6989586621679158720"><span class="hs-identifier hs-var hs-var">unshiftNat</span></a></span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Either () b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>    </span><span class="annot"><a href="#local-6989586621679158720"><span class="hs-identifier hs-var">unshiftNat</span></a></span><span> </span><span id="local-6989586621679158755"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158755"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either () b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; b
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158755"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>    </span><span id="local-6989586621679158721"><span class="annot"><span class="annottext">shiftNat :: Either a Nat -&gt; Nat
</span><a href="#local-6989586621679158721"><span class="hs-identifier hs-var hs-var">shiftNat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Nat) -&gt; (Nat -&gt; Nat) -&gt; Either a Nat -&gt; Nat
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; a -&gt; Nat
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">succ</span></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="annot"><a href="Data.Profunctor.Cartesian.html#describeFiniteBits"><span class="hs-identifier hs-type">describeFiniteBits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679157760"><span class="annot"><a href="#local-6989586621679157760"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679157762"><span class="annot"><a href="#local-6989586621679157762"><span class="hs-identifier hs-type">p</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FiniteBits</span></span><span> </span><span class="annot"><a href="#local-6989586621679157760"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157762"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157762"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157762"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157760"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157760"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-288"></span><span id="describeFiniteBits"><span class="annot"><span class="annottext">describeFiniteBits :: forall a (p :: * -&gt; * -&gt; *).
(FiniteBits a, Cartesian p, Cocartesian p) =&gt;
p a a
</span><a href="Data.Profunctor.Cartesian.html#describeFiniteBits"><span class="hs-identifier hs-var hs-var">describeFiniteBits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; p a a
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
Int -&gt; p a a
</span><a href="Data.Profunctor.Cartesian.html#dBits"><span class="hs-identifier hs-var">dBits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Int
forall b. FiniteBits b =&gt; b -&gt; Int
</span><span class="hs-identifier hs-var">finiteBitSize</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. Bits a =&gt; a
</span><span class="hs-identifier hs-var">zeroBits</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679157760"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span id="local-6989586621679157751"><span id="local-6989586621679157752"><span class="annot"><a href="Data.Profunctor.Cartesian.html#dBit"><span class="hs-identifier hs-type">dBit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679157751"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157752"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157752"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157752"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157751"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157751"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-291"></span><span id="dBit"><span class="annot"><span class="annottext">dBit :: forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
p a a
</span><a href="Data.Profunctor.Cartesian.html#dBit"><span class="hs-identifier hs-var hs-var">dBit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either () ())
-&gt; (Either () () -&gt; a) -&gt; p () () -&gt; p () () -&gt; p a a
forall a a1 a2 b1 b2 b.
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
forall (p :: * -&gt; * -&gt; *) a a1 a2 b1 b2 b.
Cocartesian p =&gt;
(a -&gt; Either a1 a2)
-&gt; (Either b1 b2 -&gt; b) -&gt; p a1 b1 -&gt; p a2 b2 -&gt; p a b
</span><a href="Data.Profunctor.Cartesian.html#proSum"><span class="hs-identifier hs-var">proSum</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either () ()
forall {a}. Bits a =&gt; a -&gt; Either () ()
</span><a href="#local-6989586621679158781"><span class="hs-identifier hs-var">i2b</span></a></span><span> </span><span class="annot"><span class="annottext">Either () () -&gt; a
forall {a} {a} {b}. Bits a =&gt; Either a b -&gt; a
</span><a href="#local-6989586621679158782"><span class="hs-identifier hs-var">b2i</span></a></span><span> </span><span class="annot"><span class="annottext">p () ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span> </span><span class="annot"><span class="annottext">p () ()
forall a. p a ()
forall (p :: * -&gt; * -&gt; *) a. Cartesian p =&gt; p a ()
</span><a href="Data.Profunctor.Cartesian.html#proUnit"><span class="hs-identifier hs-var">proUnit</span></a></span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-293"></span><span>    </span><span id="local-6989586621679158781"><span class="annot"><span class="annottext">i2b :: a -&gt; Either () ()
</span><a href="#local-6989586621679158781"><span class="hs-identifier hs-var hs-var">i2b</span></a></span></span><span> </span><span id="local-6989586621679158788"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158788"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-identifier hs-var">testBit</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158788"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">() -&gt; Either () ()
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">() -&gt; Either () ()
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>    </span><span id="local-6989586621679158782"><span class="annot"><span class="annottext">b2i :: Either a b -&gt; a
</span><a href="#local-6989586621679158782"><span class="hs-identifier hs-var hs-var">b2i</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Bits a =&gt; a
</span><span class="hs-identifier hs-var">zeroBits</span></span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><a href="#local-6989586621679158782"><span class="hs-identifier hs-var">b2i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; a
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span id="local-6989586621679157766"><span id="local-6989586621679157767"><span class="annot"><a href="Data.Profunctor.Cartesian.html#dBits"><span class="hs-identifier hs-type">dBits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679157766"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157767"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157767"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679157767"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157766"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679157766"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-298"></span><span id="dBits"><span class="annot"><span class="annottext">dBits :: forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
Int -&gt; p a a
</span><a href="Data.Profunctor.Cartesian.html#dBits"><span class="hs-identifier hs-var hs-var">dBits</span></a></span></span><span> </span><span id="local-6989586621679158827"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158827"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158827"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; p a a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;bad!&quot;</span></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158827"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a a
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
p a a
</span><a href="Data.Profunctor.Cartesian.html#dBit"><span class="hs-identifier hs-var">dBit</span></a></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-302"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; (Int, Int)
</span><a href="Data.Profunctor.Cartesian.html#separate"><span class="hs-identifier hs-var">separate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158827"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679158830"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158830"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; p a a
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
Int -&gt; p a a
</span><a href="Data.Profunctor.Cartesian.html#dBitsPow2"><span class="hs-identifier hs-var">dBitsPow2</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158830"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-304"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679158832"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158832"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679158833"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158833"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-305"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679158838"><span class="annot"><span class="annottext">l :: b -&gt; (b, b)
</span><a href="#local-6989586621679158838"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679158839"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158839"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158839"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftR`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158833"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158839"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>              </span><span id="local-6989586621679158846"><span class="annot"><span class="annottext">r :: (a, a) -&gt; a
</span><a href="#local-6989586621679158846"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679158847"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158847"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679158848"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158848"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158847"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158833"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158848"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(a -&gt; (a, a)) -&gt; ((a, a) -&gt; a) -&gt; p (a, a) (a, a) -&gt; p a a
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; (a, a)
forall {b}. Bits b =&gt; b -&gt; (b, b)
</span><a href="#local-6989586621679158838"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(a, a) -&gt; a
forall {a}. Bits a =&gt; (a, a) -&gt; a
</span><a href="#local-6989586621679158846"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">(p (a, a) (a, a) -&gt; p a a) -&gt; p (a, a) (a, a) -&gt; p a a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; p a a
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
Int -&gt; p a a
</span><a href="Data.Profunctor.Cartesian.html#dBits"><span class="hs-identifier hs-var">dBits</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158832"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">p a a -&gt; p a a -&gt; p (a, a) (a, a)
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; p a a
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
Int -&gt; p a a
</span><a href="Data.Profunctor.Cartesian.html#dBitsPow2"><span class="hs-identifier hs-var">dBitsPow2</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158833"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="annot"><a href="Data.Profunctor.Cartesian.html#separate"><span class="hs-identifier hs-type">separate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span class="hs-comment">-- must be x &gt; 1</span><span>
</span><span id="line-311"></span><span id="separate"><span class="annot"><span class="annottext">separate :: Int -&gt; (Int, Int)
</span><a href="Data.Profunctor.Cartesian.html#separate"><span class="hs-identifier hs-var hs-var">separate</span></a></span></span><span> </span><span id="local-6989586621679158851"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158851"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158852"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158853"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-313"></span><span>    </span><span id="local-6989586621679158853"><span class="annot"><span class="annottext">p :: Int
</span><a href="#local-6989586621679158853"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall b. FiniteBits b =&gt; b -&gt; Int
</span><span class="hs-identifier hs-var">finiteBitSize</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall b. FiniteBits b =&gt; b -&gt; Int
</span><span class="hs-identifier hs-var">countLeadingZeros</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158851"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-314"></span><span>    </span><span id="local-6989586621679158852"><span class="annot"><span class="annottext">r :: Int
</span><a href="#local-6989586621679158852"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">clearBit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158851"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158853"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span id="local-6989586621679158863"><span id="local-6989586621679158864"><span class="annot"><a href="Data.Profunctor.Cartesian.html#dBitsPow2"><span class="hs-identifier hs-type">dBitsPow2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679158863"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cartesian"><span class="hs-identifier hs-type">Cartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679158864"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Profunctor.Cartesian.html#Cocartesian"><span class="hs-identifier hs-type">Cocartesian</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679158864"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679158864"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679158863"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679158863"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-317"></span><span id="dBitsPow2"><span class="annot"><span class="annottext">dBitsPow2 :: forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
Int -&gt; p a a
</span><a href="Data.Profunctor.Cartesian.html#dBitsPow2"><span class="hs-identifier hs-var hs-var">dBitsPow2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a a
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
p a a
</span><a href="Data.Profunctor.Cartesian.html#dBit"><span class="hs-identifier hs-var">dBit</span></a></span><span>
</span><span id="line-318"></span><span class="annot"><a href="Data.Profunctor.Cartesian.html#dBitsPow2"><span class="hs-identifier hs-var">dBitsPow2</span></a></span><span> </span><span id="local-6989586621679158879"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158879"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679158883"><span class="annot"><span class="annottext">m :: Int
</span><a href="#local-6989586621679158883"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158879"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-320"></span><span>      </span><span id="local-6989586621679158891"><span class="annot"><span class="annottext">halfBits :: p a a
</span><a href="#local-6989586621679158891"><span class="hs-identifier hs-var hs-var">halfBits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; p a a
forall a (p :: * -&gt; * -&gt; *).
(Bits a, Cartesian p, Cocartesian p) =&gt;
Int -&gt; p a a
</span><a href="Data.Profunctor.Cartesian.html#dBitsPow2"><span class="hs-identifier hs-var">dBitsPow2</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158883"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-321"></span><span>      </span><span id="local-6989586621679158897"><span class="annot"><span class="annottext">l :: b -&gt; (b, b)
</span><a href="#local-6989586621679158897"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679158898"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158898"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158898"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shift`</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158883"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679158898"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>      </span><span id="local-6989586621679158905"><span class="annot"><span class="annottext">r :: (a, a) -&gt; a
</span><a href="#local-6989586621679158905"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679158906"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158906"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679158907"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158907"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158906"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shift`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679158883"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679158907"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(a -&gt; (a, a)) -&gt; ((a, a) -&gt; a) -&gt; p (a, a) (a, a) -&gt; p a a
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; (a, a)
forall {b}. Bits b =&gt; b -&gt; (b, b)
</span><a href="#local-6989586621679158897"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(a, a) -&gt; a
forall {a}. Bits a =&gt; (a, a) -&gt; a
</span><a href="#local-6989586621679158905"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">(p (a, a) (a, a) -&gt; p a a) -&gt; p (a, a) (a, a) -&gt; p a a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">p a a
</span><a href="#local-6989586621679158891"><span class="hs-identifier hs-var">halfBits</span></a></span><span> </span><span class="annot"><span class="annottext">p a a -&gt; p a a -&gt; p (a, a) (a, a)
forall a b a' b'. p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
forall (p :: * -&gt; * -&gt; *) a b a' b'.
Cartesian p =&gt;
p a b -&gt; p a' b' -&gt; p (a, a') (b, b')
</span><a href="Data.Profunctor.Cartesian.html#%2A%2A%2A"><span class="hs-operator hs-var">***</span></a></span><span> </span><span class="annot"><span class="annottext">p a a
</span><a href="#local-6989586621679158891"><span class="hs-identifier hs-var">halfBits</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span></pre></body></html>